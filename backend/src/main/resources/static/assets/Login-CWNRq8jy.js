import{d as b,u as y,r as t,j as e,L as h}from"./vendor-CYIUVSsn.js";import{u as w}from"./index-B7VpOX0o.js";import"./ui-libs-CrvD3He2.js";function P(){var p;const{login:g}=w(),x=b(),s=y(),i=new URLSearchParams(s.search).get("redirect")||(typeof((p=s.state)==null?void 0:p.from)=="string"?s.state.from:"/checkout?pay=1"),[l,n]=t.useState(""),[c,N]=t.useState(""),[o,m]=t.useState(""),[d,u]=t.useState(!1),[j,f]=t.useState(!1);t.useEffect(()=>{var a;f(!0),typeof((a=s.state)==null?void 0:a.email)=="string"&&n(s.state.email)},[s.state]);async function v(a){a.preventDefault(),m(""),u(!0);try{await g(l,c),x(i,{replace:!0})}catch(r){m((r==null?void 0:r.message)||"Login failed")}finally{u(!1)}}return e.jsxs("div",{className:"cinematic-auth login-page",children:[e.jsxs("div",{className:"cinematic-bg",children:[e.jsx("div",{className:"bg-gradient"}),e.jsx("div",{className:"particle-field",children:Array.from({length:20}).map((a,r)=>e.jsx("div",{className:"particle",style:{left:`${Math.random()*100}%`,top:`${Math.random()*100}%`,animationDelay:`${Math.random()*8}s`}},`login-p-${r}`))}),e.jsx("div",{className:"light-beam beam-1"}),e.jsx("div",{className:"light-beam beam-2"})]}),e.jsxs("div",{className:`cinematic-card login-card ${j?"mounted":""}`,children:[e.jsx("div",{className:"card-glow"}),e.jsxs("div",{className:"auth-header",children:[e.jsx("h1",{className:"auth-main-title",children:"ENTER AS DANCE"}),e.jsx("p",{className:"auth-subtitle",children:"Unlock Your 639-Step Performance System"}),e.jsxs("p",{className:"auth-micro-text",children:["One login. Lifetime access.",e.jsx("br",{}),"Built for stage, competition & mastery."]})]}),o&&e.jsx("div",{className:"auth-error",children:o}),e.jsxs("form",{onSubmit:v,className:"auth-form",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"login-email",className:"form-label",children:"Email"}),e.jsxs("div",{className:"input-wrapper",children:[e.jsx("span",{className:"input-icon",children:"@"}),e.jsx("input",{id:"login-email",name:"email",type:"email",className:"form-input",placeholder:"your@email.com",value:l,onChange:a=>n(a.target.value),required:!0,autoComplete:"username"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"login-password",className:"form-label",children:"Password"}),e.jsxs("div",{className:"input-wrapper",children:[e.jsx("span",{className:"input-icon",children:"*"}),e.jsx("input",{id:"login-password",name:"password",type:"password",className:"form-input",placeholder:"********",value:c,onChange:a=>N(a.target.value),required:!0,autoComplete:"current-password"})]})]}),e.jsxs("button",{type:"submit",className:"auth-btn",disabled:d,children:[e.jsx("span",{className:"btn-text",children:d?"Entering...":"Enter the Stage"}),e.jsx("span",{className:"btn-glow"})]})]}),e.jsxs("div",{className:"auth-footer",children:[e.jsxs("p",{children:["New to AS DANCE? ",e.jsx(h,{to:`/register?redirect=${encodeURIComponent(i)}`,className:"auth-link",children:"Start Your Journey"})]}),e.jsx(h,{to:"/",className:"back-link",children:"Back to Home"})]})]})]})}export{P as default};
