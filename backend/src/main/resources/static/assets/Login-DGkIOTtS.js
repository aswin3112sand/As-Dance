import{d as e,u as a,r as s,j as t,L as i}from"./vendor-BptZdHlD.js";import{u as l}from"./index-DqclkoKh.js";import{s as r}from"./motion-Bf-FllcE.js";function n(){var n;const{login:o}=l(),c=e(),m=a(),d=new URLSearchParams(m.search).get("redirect")||("string"==typeof(null==(n=m.state)?void 0:n.from)?m.state.from:"/checkout?pay=1"),[u,h]=s.useState(""),[p,x]=s.useState(""),[j,f]=s.useState(""),[N,g]=s.useState(!1),[v,b]=s.useState(!1),y=s.useMemo(()=>{if("undefined"==typeof window)return 8;const e=r(),a=window.matchMedia("(max-width: 768px)").matches;return e||a?8:20},[]),w=s.useMemo(()=>Array.from({length:y},()=>({left:100*Math.random()+"%",top:100*Math.random()+"%",delay:8*Math.random()+"s"})),[y]);return s.useEffect(()=>{var e;b(!0),"string"==typeof(null==(e=m.state)?void 0:e.email)&&h(m.state.email)},[m.state]),t.jsxs("div",{className:"cinematic-auth login-page",children:[t.jsxs("div",{className:"cinematic-bg",children:[t.jsx("div",{className:"bg-gradient"}),t.jsx("div",{className:"particle-field","aria-hidden":"true",children:w.map((e,a)=>t.jsx("div",{className:"particle",style:{left:e.left,top:e.top,animationDelay:e.delay}},`login-p-${a}`))}),t.jsx("div",{className:"light-beam beam-1"}),t.jsx("div",{className:"light-beam beam-2"})]}),t.jsxs("div",{className:"cinematic-card login-card "+(v?"mounted":""),children:[t.jsx("div",{className:"card-glow"}),t.jsxs("div",{className:"auth-header",children:[t.jsx("h1",{className:"auth-main-title",children:"ENTER AS DANCE"}),t.jsx("p",{className:"auth-subtitle",children:"Unlock Your 639-Step Performance System"}),t.jsxs("p",{className:"auth-micro-text",children:["One login. Lifetime access.",t.jsx("br",{}),"Built for stage, competition & mastery."]})]}),j&&t.jsx("div",{className:"auth-error",children:j}),t.jsxs("form",{onSubmit:async function(e){e.preventDefault(),f(""),g(!0);try{await o(u,p),c(d,{replace:!0})}catch(a){f((null==a?void 0:a.message)||"Login failed")}finally{g(!1)}},className:"auth-form",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"login-email",className:"form-label",children:"Email"}),t.jsxs("div",{className:"input-wrapper",children:[t.jsx("span",{className:"input-icon",children:"@"}),t.jsx("input",{id:"login-email",name:"email",type:"email",className:"form-input",placeholder:"your@email.com",value:u,onChange:e=>h(e.target.value),required:!0,autoComplete:"username"})]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"login-password",className:"form-label",children:"Password"}),t.jsxs("div",{className:"input-wrapper",children:[t.jsx("span",{className:"input-icon",children:"*"}),t.jsx("input",{id:"login-password",name:"password",type:"password",className:"form-input",placeholder:"********",value:p,onChange:e=>x(e.target.value),required:!0,autoComplete:"current-password"})]})]}),t.jsxs("button",{type:"submit",className:"auth-btn",disabled:N,children:[t.jsx("span",{className:"btn-text",children:N?"Entering...":"Enter the Stage"}),t.jsx("span",{className:"btn-glow"})]})]}),t.jsxs("div",{className:"auth-footer",children:[t.jsxs("p",{children:["New to AS DANCE? ",t.jsx(i,{to:`/register?redirect=${encodeURIComponent(d)}`,className:"auth-link",children:"Start Your Journey"})]}),t.jsx(i,{to:"/",className:"back-link",children:"Back to Home"})]})]})]})}export{n as default};
