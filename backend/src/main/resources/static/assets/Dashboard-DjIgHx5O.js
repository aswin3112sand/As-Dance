import{d as p,r as n,j as s}from"./vendor-CYIUVSsn.js";import{u as N,a as d}from"./index-B7VpOX0o.js";import"./ui-libs-CrvD3He2.js";const v="/assets/DanceTut-Dcj9jLc8.webp",g="/assets/Ayan-CAGpA52F.webp",y="/assets/Jeyam2-DuKVnXcb.webp";function L(){const{user:e,refresh:i,logout:r}=N(),t=p(),[a,o]=n.useState(null);n.useEffect(()=>{i()},[i]),n.useEffect(()=>{async function c(){const j=await(await d("/api/payment/status")).json().catch(()=>({}));o(j)}c()},[]);const l=(a==null?void 0:a.unlocked)||(e==null?void 0:e.unlocked),m=(a==null?void 0:a.unlockedVideoUrl)||"",h=l?"âœ” 639 Steps Unlocked â€“ Lifetime Access":"ðŸ”’ 639 Bundle Locked â€“ Unlock for â‚¹499",u=()=>{d("/api/payment/downloaded",{method:"POST"}).catch(()=>{});const c=m||"https://drive.google.com/";window.open(c,"_blank","noopener,noreferrer")},b=async()=>{await r(),t("/",{replace:!0})},x=()=>{const c=document.getElementById("my-routines");c&&c.scrollIntoView({behavior:"smooth",block:"start"})};return s.jsx("div",{className:"section dashboard-page",children:s.jsxs("div",{className:"container-max",children:[s.jsxs("div",{className:"dashboard-header",children:[s.jsxs("div",{children:[s.jsx("div",{className:"brand",children:"AS DANCE"}),s.jsx("div",{className:"subtle small",children:"Dashboard"})]}),(e==null?void 0:e.email)&&s.jsx("div",{className:"dashboard-email subtle small",children:e.email})]}),e&&s.jsxs("div",{className:"dashboard-nav",role:"navigation","aria-label":"Dashboard actions",children:[s.jsx("button",{className:"btn btn-neon btn-neo",onClick:()=>t("/checkout?pay=1"),children:"Get Bundle @ â‚¹499"}),s.jsx("button",{className:"btn btn-ghost btn-neo",onClick:x,children:"My Routines"}),s.jsx("a",{className:"btn btn-ghost btn-neo",href:"https://wa.me/918825602356",target:"_blank",rel:"noopener noreferrer",children:"Support"}),s.jsx("button",{className:"btn btn-ghost btn-neo",onClick:b,children:"Logout"})]}),s.jsxs("div",{className:"dashboard-grid",children:[s.jsxs("div",{className:"card-glass dashboard-card",children:[s.jsx("div",{className:"dashboard-card-media",children:s.jsx("img",{src:v,alt:"Access preview",loading:"lazy",decoding:"async",width:"640",height:"360"})}),s.jsx("div",{className:"status-label",children:"Access"}),s.jsx("div",{className:`status-pill ${l?"is-unlocked":""}`,children:l?"Unlocked":"Locked"}),s.jsx("div",{className:"status-message",children:h}),s.jsx("div",{className:"dashboard-actions",children:l?s.jsx("button",{className:"btn btn-cta btn-neo",onClick:u,children:"Preview"}):s.jsx("div",{className:"subtle small",children:"Unlock access using the Get Bundle button above."})})]}),s.jsxs("div",{className:"card-glass dashboard-card",children:[s.jsx("div",{className:"dashboard-card-media",children:s.jsx("img",{src:g,alt:"Account preview",loading:"lazy",decoding:"async",width:"640",height:"360"})}),s.jsx("div",{className:"status-label",children:"Account"}),s.jsx("h2",{className:"text-section",children:"Welcome back."}),s.jsxs("p",{className:"text-body subtle",children:["Signed in as ",(e==null?void 0:e.email)||"Guest"]}),s.jsxs("div",{className:"dashboard-metrics",children:[s.jsxs("div",{className:"metric-item",children:[s.jsx("span",{className:"metric-label",children:"Bundle"}),s.jsx("span",{className:"metric-value",children:l?"Lifetime Access":"Locked"})]}),s.jsxs("div",{className:"metric-item",children:[s.jsx("span",{className:"metric-label",children:"Steps"}),s.jsx("span",{className:"metric-value",children:"639 Total"})]}),s.jsxs("div",{className:"metric-item",children:[s.jsx("span",{className:"metric-label",children:"Support"}),s.jsx("span",{className:"metric-value",children:"Priority Help"})]})]})]}),s.jsxs("div",{className:"card-glass dashboard-card",id:"my-routines",children:[s.jsx("div",{className:"dashboard-card-media",children:s.jsx("img",{src:y,alt:"My routines preview",loading:"lazy",decoding:"async",width:"640",height:"360"})}),s.jsx("div",{className:"status-label",children:"My Routines"}),s.jsx("p",{className:"text-body subtle",children:"Your routine library appears here once unlocked."}),s.jsxs("div",{className:"routine-pills",children:[s.jsx("span",{className:"pill",children:"Easy"}),s.jsx("span",{className:"pill",children:"Medium"}),s.jsx("span",{className:"pill",children:"Hard"})]}),s.jsx("div",{className:"subtle small",children:"Lifetime updates included."})]})]})]})})}export{L as default};
