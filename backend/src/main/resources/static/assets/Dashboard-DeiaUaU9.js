import{d as s,r as e,j as a}from"./vendor-Dl89K0mS.js";import{u as l,a as c}from"./index-Dp4Tco7t.js";import"./ui-libs-wGVwhxMR.js";function i(){const{user:i,refresh:n,logout:d}=l(),t=s(),[r,o]=e.useState(null);e.useEffect(()=>{n()},[n]),e.useEffect(()=>{!async function(){const s=await c("/api/payment/status"),e=await s.json().catch(()=>({}));o(e)}()},[]);const m=(null==r?void 0:r.unlocked)||(null==i?void 0:i.unlocked),h=(null==r?void 0:r.unlockedVideoUrl)||"",u=m?"âœ” 639 Steps Unlocked â€“ Lifetime Access":"ðŸ”’ 639 Bundle Locked â€“ Unlock for â‚¹499";return a.jsx("div",{className:"section dashboard-page",children:a.jsxs("div",{className:"container-max",children:[a.jsxs("div",{className:"dashboard-header",children:[a.jsxs("div",{children:[a.jsx("div",{className:"brand",children:"AS DANCE"}),a.jsx("div",{className:"subtle small",children:"Dashboard"})]}),(null==i?void 0:i.email)&&a.jsx("div",{className:"dashboard-email subtle small",children:i.email})]}),i&&a.jsxs("div",{className:"dashboard-nav",role:"navigation","aria-label":"Dashboard actions",children:[a.jsx("button",{className:"btn btn-neon btn-neo",onClick:()=>t("/checkout?pay=1"),children:"Get Bundle @ â‚¹499"}),a.jsx("button",{className:"btn btn-ghost btn-neo",onClick:()=>{const s=document.getElementById("my-routines");s&&s.scrollIntoView({behavior:"smooth",block:"start"})},children:"My Routines"}),a.jsx("a",{className:"btn btn-ghost btn-neo",href:"https://wa.me/918825602356",target:"_blank",rel:"noopener noreferrer",children:"Support"}),a.jsx("button",{className:"btn btn-ghost btn-neo",onClick:async()=>{await d(),t("/",{replace:!0})},children:"Logout"})]}),a.jsxs("div",{className:"dashboard-grid",children:[a.jsxs("div",{className:"card-glass dashboard-card",children:[a.jsx("div",{className:"dashboard-card-media",children:a.jsx("img",{src:"/assets/DanceTut-Dcj9jLc8.webp",alt:"Access preview",loading:"lazy",decoding:"async",width:"640",height:"360"})}),a.jsx("div",{className:"status-label",children:"Access"}),a.jsx("div",{className:"status-pill "+(m?"is-unlocked":""),children:m?"Unlocked":"Locked"}),a.jsx("div",{className:"status-message",children:u}),a.jsx("div",{className:"dashboard-actions",children:m?a.jsx("button",{className:"btn btn-cta btn-neo",onClick:()=>{c("/api/payment/downloaded",{method:"POST"}).catch(()=>{});const s=h||"https://drive.google.com/";window.open(s,"_blank","noopener,noreferrer")},children:"Preview"}):a.jsx("div",{className:"subtle small",children:"Unlock access using the Get Bundle button above."})})]}),a.jsxs("div",{className:"card-glass dashboard-card",children:[a.jsx("div",{className:"dashboard-card-media",children:a.jsx("img",{src:"/assets/Ayan-CAGpA52F.webp",alt:"Account preview",loading:"lazy",decoding:"async",width:"640",height:"360"})}),a.jsx("div",{className:"status-label",children:"Account"}),a.jsx("h2",{className:"text-section",children:"Welcome back."}),a.jsxs("p",{className:"text-body subtle",children:["Signed in as ",(null==i?void 0:i.email)||"Guest"]}),a.jsxs("div",{className:"dashboard-metrics",children:[a.jsxs("div",{className:"metric-item",children:[a.jsx("span",{className:"metric-label",children:"Bundle"}),a.jsx("span",{className:"metric-value",children:m?"Lifetime Access":"Locked"})]}),a.jsxs("div",{className:"metric-item",children:[a.jsx("span",{className:"metric-label",children:"Steps"}),a.jsx("span",{className:"metric-value",children:"639 Total"})]}),a.jsxs("div",{className:"metric-item",children:[a.jsx("span",{className:"metric-label",children:"Support"}),a.jsx("span",{className:"metric-value",children:"Priority Help"})]})]})]}),a.jsxs("div",{className:"card-glass dashboard-card",id:"my-routines",children:[a.jsx("div",{className:"dashboard-card-media",children:a.jsx("img",{src:"/assets/Jeyam2-DuKVnXcb.webp",alt:"My routines preview",loading:"lazy",decoding:"async",width:"640",height:"360"})}),a.jsx("div",{className:"status-label",children:"My Routines"}),a.jsx("p",{className:"text-body subtle",children:"Your routine library appears here once unlocked."}),a.jsxs("div",{className:"routine-pills",children:[a.jsx("span",{className:"pill",children:"Easy"}),a.jsx("span",{className:"pill",children:"Medium"}),a.jsx("span",{className:"pill",children:"Hard"})]}),a.jsx("div",{className:"subtle small",children:"Lifetime updates included."})]})]})]})})}export{i as default};
