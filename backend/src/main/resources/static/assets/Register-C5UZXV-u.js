import{d as F,u as L,r as a,j as e,L as x}from"./vendor-CYIUVSsn.js";import{u as M}from"./index-B7VpOX0o.js";import"./ui-libs-CrvD3He2.js";function T(){const{register:j}=M(),f=F(),r=L(),[o,v]=a.useState(""),[l,m]=a.useState(""),[b,w]=a.useState(""),[c,y]=a.useState(""),[d,C]=a.useState(""),[p,i]=a.useState(""),[u,h]=a.useState(""),[N,g]=a.useState(!1),[A,E]=a.useState(!1);a.useEffect(()=>{var s;E(!0),typeof((s=r.state)==null?void 0:s.email)=="string"&&m(r.state.email)},[r.state]);async function S(s){var n;if(s.preventDefault(),i(""),h(""),c!==d){i("Passwords do not match.");return}g(!0);try{const t=o.trim(),k=l.split("@")[0]||"AS DANCE User";await j(t||k,l,c),h("Account created! Redirecting...");const P=((n=r.state)==null?void 0:n.redirect)||"/login";setTimeout(()=>f(P,{state:{email:l}}),800)}catch(t){(t==null?void 0:t.message)==="EMAIL_NOT_ALLOWED"?i("This email is not allowed for access."):i((t==null?void 0:t.message)||"Register failed")}finally{g(!1)}}return e.jsxs("div",{className:"cinematic-auth register-page",children:[e.jsxs("div",{className:"cinematic-bg",children:[e.jsx("div",{className:"bg-gradient register-gradient"}),e.jsx("div",{className:"particle-field",children:Array.from({length:25}).map((s,n)=>e.jsx("div",{className:"particle register-particle",style:{left:`${Math.random()*100}%`,top:`${Math.random()*100}%`,animationDelay:`${Math.random()*6}s`}},`register-p-${n}`))}),e.jsx("div",{className:"light-beam beam-1 register-beam"}),e.jsx("div",{className:"light-beam beam-2 register-beam"}),e.jsx("div",{className:"light-pulse"})]}),e.jsxs("div",{className:`cinematic-card register-card ${A?"mounted":""}`,children:[e.jsx("div",{className:"card-glow register-glow"}),e.jsxs("div",{className:"auth-header",children:[e.jsx("h1",{className:"auth-main-title",children:"BEGIN YOUR JOURNEY"}),e.jsx("p",{className:"auth-subtitle",children:"Create Your AS DANCE Access"}),e.jsx("p",{className:"auth-micro-text",children:"Every performance starts with a single step."})]}),p&&e.jsx("div",{className:"auth-error",children:p}),u&&e.jsx("div",{className:"auth-success",children:u}),e.jsxs("form",{onSubmit:S,className:"auth-form register-form",children:[e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{htmlFor:"reg-name",className:"form-label",children:["Full Name ",e.jsx("span",{className:"optional",children:"(Optional)"})]}),e.jsxs("div",{className:"input-wrapper",children:[e.jsx("span",{className:"input-icon",children:"N"}),e.jsx("input",{id:"reg-name",name:"fullName",type:"text",className:"form-input",placeholder:"Your name",value:o,onChange:s=>v(s.target.value),autoComplete:"name"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"reg-email",className:"form-label",children:"Email"}),e.jsxs("div",{className:"input-wrapper",children:[e.jsx("span",{className:"input-icon",children:"@"}),e.jsx("input",{id:"reg-email",name:"email",type:"email",className:"form-input",placeholder:"your@email.com",value:l,onChange:s=>m(s.target.value),required:!0,autoComplete:"email"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{htmlFor:"reg-phone",className:"form-label",children:["WhatsApp ",e.jsx("span",{className:"optional",children:"(Optional)"})]}),e.jsxs("div",{className:"input-wrapper",children:[e.jsx("span",{className:"input-icon",children:"#"}),e.jsx("input",{id:"reg-phone",name:"phone",type:"tel",className:"form-input",placeholder:"+91 88256 02356",value:b,onChange:s=>w(s.target.value),inputMode:"tel",autoComplete:"tel"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"reg-password",className:"form-label",children:"Password"}),e.jsxs("div",{className:"input-wrapper",children:[e.jsx("span",{className:"input-icon",children:"*"}),e.jsx("input",{id:"reg-password",name:"password",type:"password",className:"form-input",placeholder:"********",value:c,onChange:s=>y(s.target.value),required:!0,autoComplete:"new-password"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"reg-confirm",className:"form-label",children:"Confirm Password"}),e.jsxs("div",{className:"input-wrapper",children:[e.jsx("span",{className:"input-icon",children:"*"}),e.jsx("input",{id:"reg-confirm",name:"confirmPassword",type:"password",className:"form-input",placeholder:"********",value:d,onChange:s=>C(s.target.value),required:!0,autoComplete:"new-password"})]})]}),e.jsxs("button",{type:"submit",className:"auth-btn register-btn",disabled:N,children:[e.jsx("span",{className:"btn-text",children:N?"Creating Access...":"Create My Access"}),e.jsx("span",{className:"btn-glow"})]})]}),e.jsxs("div",{className:"auth-footer",children:[e.jsxs("p",{children:["Already have access? ",e.jsx(x,{to:"/login",className:"auth-link",children:"Enter the Stage"})]}),e.jsx(x,{to:"/",className:"back-link",children:"Back to Home"})]})]})]})}export{T as default};
