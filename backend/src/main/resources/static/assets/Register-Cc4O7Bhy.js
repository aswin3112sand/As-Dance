import{d as e,u as a,r as s,j as l,L as r}from"./vendor-Dl89K0mS.js";import{u as t}from"./index-CY4iP0Xn.js";import"./ui-libs-wGVwhxMR.js";function i(){const{register:i}=t(),n=e(),c=a(),[m,o]=s.useState(""),[d,p]=s.useState(""),[u,h]=s.useState(""),[g,N]=s.useState(""),[x,j]=s.useState(""),[v,f]=s.useState(""),[b,w]=s.useState(""),[y,C]=s.useState(!1),[A,S]=s.useState(!1);return s.useEffect(()=>{var e;S(!0),"string"==typeof(null==(e=c.state)?void 0:e.email)&&p(c.state.email)},[c.state]),l.jsxs("div",{className:"cinematic-auth register-page",children:[l.jsxs("div",{className:"cinematic-bg",children:[l.jsx("div",{className:"bg-gradient register-gradient"}),l.jsx("div",{className:"particle-field",children:Array.from({length:25}).map((e,a)=>l.jsx("div",{className:"particle register-particle",style:{left:100*Math.random()+"%",top:100*Math.random()+"%",animationDelay:6*Math.random()+"s"}},`register-p-${a}`))}),l.jsx("div",{className:"light-beam beam-1 register-beam"}),l.jsx("div",{className:"light-beam beam-2 register-beam"}),l.jsx("div",{className:"light-pulse"})]}),l.jsxs("div",{className:"cinematic-card register-card "+(A?"mounted":""),children:[l.jsx("div",{className:"card-glow register-glow"}),l.jsxs("div",{className:"auth-header",children:[l.jsx("h1",{className:"auth-main-title",children:"BEGIN YOUR JOURNEY"}),l.jsx("p",{className:"auth-subtitle",children:"Create Your AS DANCE Access"}),l.jsx("p",{className:"auth-micro-text",children:"Every performance starts with a single step."})]}),v&&l.jsx("div",{className:"auth-error",children:v}),b&&l.jsx("div",{className:"auth-success",children:b}),l.jsxs("form",{onSubmit:async function(e){var a;if(e.preventDefault(),f(""),w(""),g===x){C(!0);try{const e=m.trim(),s=d.split("@")[0]||"AS DANCE User",l=e||s;await i(l,d,g),w("Account created! Redirecting...");const r=(null==(a=c.state)?void 0:a.redirect)||"/login";setTimeout(()=>n(r,{state:{email:d}}),800)}catch(s){"EMAIL_NOT_ALLOWED"===(null==s?void 0:s.message)?f("This email is not allowed for access."):f((null==s?void 0:s.message)||"Register failed")}finally{C(!1)}}else f("Passwords do not match.")},className:"auth-form register-form",children:[l.jsxs("div",{className:"form-group",children:[l.jsxs("label",{htmlFor:"reg-name",className:"form-label",children:["Full Name ",l.jsx("span",{className:"optional",children:"(Optional)"})]}),l.jsxs("div",{className:"input-wrapper",children:[l.jsx("span",{className:"input-icon",children:"N"}),l.jsx("input",{id:"reg-name",name:"fullName",type:"text",className:"form-input",placeholder:"Your name",value:m,onChange:e=>o(e.target.value),autoComplete:"name"})]})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{htmlFor:"reg-email",className:"form-label",children:"Email"}),l.jsxs("div",{className:"input-wrapper",children:[l.jsx("span",{className:"input-icon",children:"@"}),l.jsx("input",{id:"reg-email",name:"email",type:"email",className:"form-input",placeholder:"your@email.com",value:d,onChange:e=>p(e.target.value),required:!0,autoComplete:"email"})]})]}),l.jsxs("div",{className:"form-group",children:[l.jsxs("label",{htmlFor:"reg-phone",className:"form-label",children:["WhatsApp ",l.jsx("span",{className:"optional",children:"(Optional)"})]}),l.jsxs("div",{className:"input-wrapper",children:[l.jsx("span",{className:"input-icon",children:"#"}),l.jsx("input",{id:"reg-phone",name:"phone",type:"tel",className:"form-input",placeholder:"+91 88256 02356",value:u,onChange:e=>h(e.target.value),inputMode:"tel",autoComplete:"tel"})]})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{htmlFor:"reg-password",className:"form-label",children:"Password"}),l.jsxs("div",{className:"input-wrapper",children:[l.jsx("span",{className:"input-icon",children:"*"}),l.jsx("input",{id:"reg-password",name:"password",type:"password",className:"form-input",placeholder:"********",value:g,onChange:e=>N(e.target.value),required:!0,autoComplete:"new-password"})]})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{htmlFor:"reg-confirm",className:"form-label",children:"Confirm Password"}),l.jsxs("div",{className:"input-wrapper",children:[l.jsx("span",{className:"input-icon",children:"*"}),l.jsx("input",{id:"reg-confirm",name:"confirmPassword",type:"password",className:"form-input",placeholder:"********",value:x,onChange:e=>j(e.target.value),required:!0,autoComplete:"new-password"})]})]}),l.jsxs("button",{type:"submit",className:"auth-btn register-btn",disabled:y,children:[l.jsx("span",{className:"btn-text",children:y?"Creating Access...":"Create My Access"}),l.jsx("span",{className:"btn-glow"})]})]}),l.jsxs("div",{className:"auth-footer",children:[l.jsxs("p",{children:["Already have access? ",l.jsx(r,{to:"/login",className:"auth-link",children:"Enter the Stage"})]}),l.jsx(r,{to:"/",className:"back-link",children:"Back to Home"})]})]})]})}export{i as default};
