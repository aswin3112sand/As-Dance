import{d as e,u as a,r as s,j as t,L as l}from"./vendor-Dl89K0mS.js";import{u as i}from"./index-BmEI4eHl.js";import"./ui-libs-wGVwhxMR.js";function r(){var r;const{login:n}=i(),c=e(),m=a(),o=new URLSearchParams(m.search).get("redirect")||("string"==typeof(null==(r=m.state)?void 0:r.from)?m.state.from:"/checkout?pay=1"),[d,u]=s.useState(""),[h,p]=s.useState(""),[j,x]=s.useState(""),[N,g]=s.useState(!1),[f,v]=s.useState(!1);return s.useEffect(()=>{var e;v(!0),"string"==typeof(null==(e=m.state)?void 0:e.email)&&u(m.state.email)},[m.state]),t.jsxs("div",{className:"cinematic-auth login-page",children:[t.jsxs("div",{className:"cinematic-bg",children:[t.jsx("div",{className:"bg-gradient"}),t.jsx("div",{className:"particle-field","aria-hidden":"true",children:Array.from({length:20}).map((e,a)=>t.jsx("div",{className:"particle",style:{left:100*Math.random()+"%",top:100*Math.random()+"%",animationDelay:8*Math.random()+"s"}},`login-p-${a}`))}),t.jsx("div",{className:"light-beam beam-1"}),t.jsx("div",{className:"light-beam beam-2"})]}),t.jsxs("div",{className:"cinematic-card login-card "+(f?"mounted":""),children:[t.jsx("div",{className:"card-glow"}),t.jsxs("div",{className:"auth-header",children:[t.jsx("h1",{className:"auth-main-title",children:"ENTER AS DANCE"}),t.jsx("p",{className:"auth-subtitle",children:"Unlock Your 639-Step Performance System"}),t.jsxs("p",{className:"auth-micro-text",children:["One login. Lifetime access.",t.jsx("br",{}),"Built for stage, competition & mastery."]})]}),j&&t.jsx("div",{className:"auth-error",children:j}),t.jsxs("form",{onSubmit:async function(e){e.preventDefault(),x(""),g(!0);try{await n(d,h),c(o,{replace:!0})}catch(a){x((null==a?void 0:a.message)||"Login failed")}finally{g(!1)}},className:"auth-form",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"login-email",className:"form-label",children:"Email"}),t.jsxs("div",{className:"input-wrapper",children:[t.jsx("span",{className:"input-icon",children:"@"}),t.jsx("input",{id:"login-email",name:"email",type:"email",className:"form-input",placeholder:"your@email.com",value:d,onChange:e=>u(e.target.value),required:!0,autoComplete:"username"})]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{htmlFor:"login-password",className:"form-label",children:"Password"}),t.jsxs("div",{className:"input-wrapper",children:[t.jsx("span",{className:"input-icon",children:"*"}),t.jsx("input",{id:"login-password",name:"password",type:"password",className:"form-input",placeholder:"********",value:h,onChange:e=>p(e.target.value),required:!0,autoComplete:"current-password"})]})]}),t.jsxs("button",{type:"submit",className:"auth-btn",disabled:N,children:[t.jsx("span",{className:"btn-text",children:N?"Entering...":"Enter the Stage"}),t.jsx("span",{className:"btn-glow"})]})]}),t.jsxs("div",{className:"auth-footer",children:[t.jsxs("p",{children:["New to AS DANCE? ",t.jsx(l,{to:`/register?redirect=${encodeURIComponent(o)}`,className:"auth-link",children:"Start Your Journey"})]}),t.jsx(l,{to:"/",className:"back-link",children:"Back to Home"})]})]})]})}export{r as default};
