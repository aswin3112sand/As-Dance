const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/DemoSection-BZ-qx7O8.js","assets/vendor-Dl89K0mS.js","assets/ui-libs-wGVwhxMR.js","assets/ui-libs-CfkJyshZ.css","assets/index-D8ld-nA5.js","assets/index-D1r66CLn.css","assets/ReviewLoop-CuEqiMBi.js"])))=>i.map(i=>d[i]);
import{u as e,_ as t}from"./index-D8ld-nA5.js";import{r as n,d as s,j as i,S as r,I as a,Z as o,H as c,A as l,L as h,M as d,X as u,e as m,P as p,R as f}from"./vendor-Dl89K0mS.js";import{c as b,i as v,e as g,a as y,u as w,b as x,d as _,x as N,f as S,r as j,o as E,h as k,j as C,k as T,l as A,m as I,n as O,g as R,p as D,S as H}from"./ui-libs-wGVwhxMR.js";import{W as L}from"./icons-B58UmnIq.js";const B="\n",P="\0";class W{get body(){return!this._body&&this.isBinaryBody&&(this._body=(new TextDecoder).decode(this._binaryBody)),this._body||""}get binaryBody(){return this._binaryBody||this.isBinaryBody||(this._binaryBody=(new TextEncoder).encode(this._body)),this._binaryBody}constructor(e){const{command:t,headers:n,body:s,binaryBody:i,escapeHeaderValues:r,skipContentLengthHeader:a}=e;this.command=t,this.headers=Object.assign({},n||{}),i?(this._binaryBody=i,this.isBinaryBody=!0):(this._body=s||"",this.isBinaryBody=!1),this.escapeHeaderValues=r||!1,this.skipContentLengthHeader=a||!1}static fromRawFrame(e,t){const n={},s=e=>e.replace(/^\s+|\s+$/g,"");for(const i of e.headers.reverse()){i.indexOf(":");const r=s(i[0]);let a=s(i[1]);t&&"CONNECT"!==e.command&&"CONNECTED"!==e.command&&(a=W.hdrValueUnEscape(a)),n[r]=a}return new W({command:e.command,headers:n,binaryBody:e.binaryBody,escapeHeaderValues:t})}toString(){return this.serializeCmdAndHeaders()}serialize(){const e=this.serializeCmdAndHeaders();return this.isBinaryBody?W.toUnit8Array(e,this._binaryBody).buffer:e+this._body+P}serializeCmdAndHeaders(){const e=[this.command];this.skipContentLengthHeader&&delete this.headers["content-length"];for(const t of Object.keys(this.headers||{})){const n=this.headers[t];this.escapeHeaderValues&&"CONNECT"!==this.command&&"CONNECTED"!==this.command?e.push(`${t}:${W.hdrValueEscape(`${n}`)}`):e.push(`${t}:${n}`)}return(this.isBinaryBody||!this.isBodyEmpty()&&!this.skipContentLengthHeader)&&e.push(`content-length:${this.bodyLength()}`),e.join(B)+B+B}isBodyEmpty(){return 0===this.bodyLength()}bodyLength(){const e=this.binaryBody;return e?e.length:0}static sizeOfUTF8(e){return e?(new TextEncoder).encode(e).length:0}static toUnit8Array(e,t){const n=(new TextEncoder).encode(e),s=new Uint8Array([0]),i=new Uint8Array(n.length+t.length+s.length);return i.set(n),i.set(t,n.length),i.set(s,n.length+t.length),i}static marshall(e){return new W(e).serialize()}static hdrValueEscape(e){return e.replace(/\\/g,"\\\\").replace(/\r/g,"\\r").replace(/\n/g,"\\n").replace(/:/g,"\\c")}static hdrValueUnEscape(e){return e.replace(/\\r/g,"\r").replace(/\\n/g,"\n").replace(/\\c/g,":").replace(/\\\\/g,"\\")}}class U{constructor(e,t){this.onFrame=e,this.onIncomingPing=t,this._encoder=new TextEncoder,this._decoder=new TextDecoder,this._token=[],this._initState()}parseChunk(e,t=!1){let n;if(n="string"==typeof e?this._encoder.encode(e):new Uint8Array(e),t&&0!==n[n.length-1]){const e=new Uint8Array(n.length+1);e.set(n,0),e[n.length]=0,n=e}for(let s=0;s<n.length;s++){const e=n[s];this._onByte(e)}}_collectFrame(e){0!==e&&13!==e&&(10!==e?(this._onByte=this._collectCommand,this._reinjectByte(e)):this.onIncomingPing())}_collectCommand(e){if(13!==e)return 10===e?(this._results.command=this._consumeTokenAsUTF8(),void(this._onByte=this._collectHeaders)):void this._consumeByte(e)}_collectHeaders(e){13!==e&&(10!==e?(this._onByte=this._collectHeaderKey,this._reinjectByte(e)):this._setupCollectBody())}_reinjectByte(e){this._onByte(e)}_collectHeaderKey(e){if(58===e)return this._headerKey=this._consumeTokenAsUTF8(),void(this._onByte=this._collectHeaderValue);this._consumeByte(e)}_collectHeaderValue(e){if(13!==e)return 10===e?(this._results.headers.push([this._headerKey,this._consumeTokenAsUTF8()]),this._headerKey=void 0,void(this._onByte=this._collectHeaders)):void this._consumeByte(e)}_setupCollectBody(){const e=this._results.headers.filter(e=>"content-length"===e[0])[0];e?(this._bodyBytesRemaining=parseInt(e[1],10),this._onByte=this._collectBodyFixedSize):this._onByte=this._collectBodyNullTerminated}_collectBodyNullTerminated(e){0!==e?this._consumeByte(e):this._retrievedBody()}_collectBodyFixedSize(e){0!==this._bodyBytesRemaining--?this._consumeByte(e):this._retrievedBody()}_retrievedBody(){this._results.binaryBody=this._consumeTokenAsRaw();try{this.onFrame(this._results)}catch(e){}this._initState()}_consumeByte(e){this._token.push(e)}_consumeTokenAsUTF8(){return this._decoder.decode(this._consumeTokenAsRaw())}_consumeTokenAsRaw(){const e=new Uint8Array(this._token);return this._token=[],e}_initState(){this._results={command:void 0,headers:[],binaryBody:void 0},this._token=[],this._headerKey=void 0,this._onByte=this._collectFrame}}var M,F,$,V,z,G,q,J;(F=M||(M={}))[F.CONNECTING=0]="CONNECTING",F[F.OPEN=1]="OPEN",F[F.CLOSING=2]="CLOSING",F[F.CLOSED=3]="CLOSED",(V=$||($={}))[V.ACTIVE=0]="ACTIVE",V[V.DEACTIVATING=1]="DEACTIVATING",V[V.INACTIVE=2]="INACTIVE",(G=z||(z={}))[G.LINEAR=0]="LINEAR",G[G.EXPONENTIAL=1]="EXPONENTIAL",(J=q||(q={})).Interval="interval",J.Worker="worker";class Y{constructor(e,t=q.Interval,n){this._interval=e,this._strategy=t,this._debug=n,this._workerScript=`\n    var startTime = Date.now();\n    setInterval(function() {\n        self.postMessage(Date.now() - startTime);\n    }, ${this._interval});\n  `}start(e){this.stop(),this.shouldUseWorker()?this.runWorker(e):this.runInterval(e)}stop(){this.disposeWorker(),this.disposeInterval()}shouldUseWorker(){return"undefined"!=typeof Worker&&this._strategy===q.Worker}runWorker(e){this._debug("Using runWorker for outgoing pings"),this._worker||(this._worker=new Worker(URL.createObjectURL(new Blob([this._workerScript],{type:"text/javascript"}))),this._worker.onmessage=t=>e(t.data))}runInterval(e){if(this._debug("Using runInterval for outgoing pings"),!this._timer){const t=Date.now();this._timer=setInterval(()=>{e(Date.now()-t)},this._interval)}}disposeWorker(){this._worker&&(this._worker.terminate(),delete this._worker,this._debug("Outgoing ping disposeWorker"))}disposeInterval(){this._timer&&(clearInterval(this._timer),delete this._timer,this._debug("Outgoing ping disposeInterval"))}}class X{constructor(e){this.versions=e}supportedVersions(){return this.versions.join(",")}protocolVersions(){return this.versions.map(e=>`v${e.replace(".","")}.stomp`)}}X.V1_0="1.0",X.V1_1="1.1",X.V1_2="1.2",X.default=new X([X.V1_2,X.V1_1,X.V1_0]);class K{get connectedVersion(){return this._connectedVersion}get connected(){return this._connected}constructor(e,t,n){this._client=e,this._webSocket=t,this._connected=!1,this._serverFrameHandlers={CONNECTED:e=>{this.debug(`connected to server ${e.headers.server}`),this._connected=!0,this._connectedVersion=e.headers.version,this._connectedVersion===X.V1_2&&(this._escapeHeaderValues=!0),this._setupHeartbeat(e.headers),this.onConnect(e)},MESSAGE:e=>{const t=e.headers.subscription,n=this._subscriptions[t]||this.onUnhandledMessage,s=e,i=this,r=this._connectedVersion===X.V1_2?s.headers.ack:s.headers["message-id"];s.ack=(e={})=>i.ack(r,t,e),s.nack=(e={})=>i.nack(r,t,e),n(s)},RECEIPT:e=>{const t=this._receiptWatchers[e.headers["receipt-id"]];t?(t(e),delete this._receiptWatchers[e.headers["receipt-id"]]):this.onUnhandledReceipt(e)},ERROR:e=>{this.onStompError(e)}},this._counter=0,this._subscriptions={},this._receiptWatchers={},this._partialData="",this._escapeHeaderValues=!1,this._lastServerActivityTS=Date.now(),this.debug=n.debug,this.stompVersions=n.stompVersions,this.connectHeaders=n.connectHeaders,this.disconnectHeaders=n.disconnectHeaders,this.heartbeatIncoming=n.heartbeatIncoming,this.heartbeatToleranceMultiplier=n.heartbeatGracePeriods,this.heartbeatOutgoing=n.heartbeatOutgoing,this.splitLargeFrames=n.splitLargeFrames,this.maxWebSocketChunkSize=n.maxWebSocketChunkSize,this.forceBinaryWSFrames=n.forceBinaryWSFrames,this.logRawCommunication=n.logRawCommunication,this.appendMissingNULLonIncoming=n.appendMissingNULLonIncoming,this.discardWebsocketOnCommFailure=n.discardWebsocketOnCommFailure,this.onConnect=n.onConnect,this.onDisconnect=n.onDisconnect,this.onStompError=n.onStompError,this.onWebSocketClose=n.onWebSocketClose,this.onWebSocketError=n.onWebSocketError,this.onUnhandledMessage=n.onUnhandledMessage,this.onUnhandledReceipt=n.onUnhandledReceipt,this.onUnhandledFrame=n.onUnhandledFrame,this.onHeartbeatReceived=n.onHeartbeatReceived,this.onHeartbeatLost=n.onHeartbeatLost}start(){const e=new U(e=>{const t=W.fromRawFrame(e,this._escapeHeaderValues);this.logRawCommunication||this.debug(`<<< ${t}`);(this._serverFrameHandlers[t.command]||this.onUnhandledFrame)(t)},()=>{this.debug("<<< PONG"),this.onHeartbeatReceived()});this._webSocket.onmessage=t=>{if(this.debug("Received data"),this._lastServerActivityTS=Date.now(),this.logRawCommunication){const e=t.data instanceof ArrayBuffer?(new TextDecoder).decode(t.data):t.data;this.debug(`<<< ${e}`)}e.parseChunk(t.data,this.appendMissingNULLonIncoming)},this._webSocket.onclose=e=>{this.debug(`Connection closed to ${this._webSocket.url}`),this._cleanUp(),this.onWebSocketClose(e)},this._webSocket.onerror=e=>{this.onWebSocketError(e)},this._webSocket.onopen=()=>{const e=Object.assign({},this.connectHeaders);this.debug("Web Socket Opened..."),e["accept-version"]=this.stompVersions.supportedVersions(),e["heart-beat"]=[this.heartbeatOutgoing,this.heartbeatIncoming].join(","),this._transmit({command:"CONNECT",headers:e})}}_setupHeartbeat(e){if(e.version!==X.V1_1&&e.version!==X.V1_2)return;if(!e["heart-beat"])return;const[t,n]=e["heart-beat"].split(",").map(e=>parseInt(e,10));if(0!==this.heartbeatOutgoing&&0!==n){const e=Math.max(this.heartbeatOutgoing,n);this.debug(`send PING every ${e}ms`),this._pinger=new Y(e,this._client.heartbeatStrategy,this.debug),this._pinger.start(()=>{this._webSocket.readyState===M.OPEN&&(this._webSocket.send(B),this.debug(">>> PING"))})}if(0!==this.heartbeatIncoming&&0!==t){const e=Math.max(this.heartbeatIncoming,t);this.debug(`check PONG every ${e}ms`),this._ponger=setInterval(()=>{const t=Date.now()-this._lastServerActivityTS;t>e*this.heartbeatToleranceMultiplier&&(this.debug(`did not receive server activity for the last ${t}ms`),this.onHeartbeatLost(),this._closeOrDiscardWebsocket())},e)}}_closeOrDiscardWebsocket(){this.discardWebsocketOnCommFailure?(this.debug("Discarding websocket, the underlying socket may linger for a while"),this.discardWebsocket()):(this.debug("Issuing close on the websocket"),this._closeWebsocket())}forceDisconnect(){this._webSocket&&(this._webSocket.readyState!==M.CONNECTING&&this._webSocket.readyState!==M.OPEN||this._closeOrDiscardWebsocket())}_closeWebsocket(){this._webSocket.onmessage=()=>{},this._webSocket.close()}discardWebsocket(){var e,t;"function"!=typeof this._webSocket.terminate&&(e=this._webSocket,t=e=>this.debug(e),e.terminate=function(){const n=()=>{};this.onerror=n,this.onmessage=n,this.onopen=n;const s=new Date,i=Math.random().toString().substring(2,8),r=this.onclose;this.onclose=e=>{const n=(new Date).getTime()-s.getTime();t(`Discarded socket (#${i})  closed after ${n}ms, with code/reason: ${e.code}/${e.reason}`)},this.close(),null==r||r.call(e,{code:4001,reason:`Quick discarding socket (#${i}) without waiting for the shutdown sequence.`,wasClean:!1})}),this._webSocket.terminate()}_transmit(e){const{command:t,headers:n,body:s,binaryBody:i,skipContentLengthHeader:r}=e,a=new W({command:t,headers:n,body:s,binaryBody:i,escapeHeaderValues:this._escapeHeaderValues,skipContentLengthHeader:r});let o=a.serialize();if(this.logRawCommunication?this.debug(`>>> ${o}`):this.debug(`>>> ${a}`),this.forceBinaryWSFrames&&"string"==typeof o&&(o=(new TextEncoder).encode(o)),"string"==typeof o&&this.splitLargeFrames){let e=o;for(;e.length>0;){const t=e.substring(0,this.maxWebSocketChunkSize);e=e.substring(this.maxWebSocketChunkSize),this._webSocket.send(t),this.debug(`chunk sent = ${t.length}, remaining = ${e.length}`)}}else this._webSocket.send(o)}dispose(){if(this.connected)try{const e=Object.assign({},this.disconnectHeaders);e.receipt||(e.receipt="close-"+this._counter++),this.watchForReceipt(e.receipt,e=>{this._closeWebsocket(),this._cleanUp(),this.onDisconnect(e)}),this._transmit({command:"DISCONNECT",headers:e})}catch(e){this.debug(`Ignoring error during disconnect ${e}`)}else this._webSocket.readyState!==M.CONNECTING&&this._webSocket.readyState!==M.OPEN||this._closeWebsocket()}_cleanUp(){this._connected=!1,this._pinger&&(this._pinger.stop(),this._pinger=void 0),this._ponger&&(clearInterval(this._ponger),this._ponger=void 0)}publish(e){const{destination:t,headers:n,body:s,binaryBody:i,skipContentLengthHeader:r}=e,a=Object.assign({destination:t},n);this._transmit({command:"SEND",headers:a,body:s,binaryBody:i,skipContentLengthHeader:r})}watchForReceipt(e,t){this._receiptWatchers[e]=t}subscribe(e,t,n={}){(n=Object.assign({},n)).id||(n.id="sub-"+this._counter++),n.destination=e,this._subscriptions[n.id]=t,this._transmit({command:"SUBSCRIBE",headers:n});const s=this;return{id:n.id,unsubscribe:e=>s.unsubscribe(n.id,e)}}unsubscribe(e,t={}){t=Object.assign({},t),delete this._subscriptions[e],t.id=e,this._transmit({command:"UNSUBSCRIBE",headers:t})}begin(e){const t=e||"tx-"+this._counter++;this._transmit({command:"BEGIN",headers:{transaction:t}});const n=this;return{id:t,commit(){n.commit(t)},abort(){n.abort(t)}}}commit(e){this._transmit({command:"COMMIT",headers:{transaction:e}})}abort(e){this._transmit({command:"ABORT",headers:{transaction:e}})}ack(e,t,n={}){n=Object.assign({},n),this._connectedVersion===X.V1_2?n.id=e:n["message-id"]=e,n.subscription=t,this._transmit({command:"ACK",headers:n})}nack(e,t,n={}){return n=Object.assign({},n),this._connectedVersion===X.V1_2?n.id=e:n["message-id"]=e,n.subscription=t,this._transmit({command:"NACK",headers:n})}}class Q{get webSocket(){var e;return null==(e=this._stompHandler)?void 0:e._webSocket}get disconnectHeaders(){return this._disconnectHeaders}set disconnectHeaders(e){this._disconnectHeaders=e,this._stompHandler&&(this._stompHandler.disconnectHeaders=this._disconnectHeaders)}get connected(){return!!this._stompHandler&&this._stompHandler.connected}get connectedVersion(){return this._stompHandler?this._stompHandler.connectedVersion:void 0}get active(){return this.state===$.ACTIVE}_changeState(e){this.state=e,this.onChangeState(e)}constructor(e={}){this.stompVersions=X.default,this.connectionTimeout=0,this.reconnectDelay=5e3,this._nextReconnectDelay=0,this.maxReconnectDelay=9e5,this.reconnectTimeMode=z.LINEAR,this.heartbeatIncoming=1e4,this.heartbeatToleranceMultiplier=2,this.heartbeatOutgoing=1e4,this.heartbeatStrategy=q.Interval,this.splitLargeFrames=!1,this.maxWebSocketChunkSize=8192,this.forceBinaryWSFrames=!1,this.appendMissingNULLonIncoming=!1,this.discardWebsocketOnCommFailure=!1,this.state=$.INACTIVE;const t=()=>{};this.debug=t,this.beforeConnect=t,this.onConnect=t,this.onDisconnect=t,this.onUnhandledMessage=t,this.onUnhandledReceipt=t,this.onUnhandledFrame=t,this.onHeartbeatReceived=t,this.onHeartbeatLost=t,this.onStompError=t,this.onWebSocketClose=t,this.onWebSocketError=t,this.logRawCommunication=!1,this.onChangeState=t,this.connectHeaders={},this._disconnectHeaders={},this.configure(e)}configure(e){Object.assign(this,e),this.maxReconnectDelay>0&&this.maxReconnectDelay<this.reconnectDelay&&(this.debug(`Warning: maxReconnectDelay (${this.maxReconnectDelay}ms) is less than reconnectDelay (${this.reconnectDelay}ms). Using reconnectDelay as the maxReconnectDelay delay.`),this.maxReconnectDelay=this.reconnectDelay)}activate(){const e=()=>{this.active?this.debug("Already ACTIVE, ignoring request to activate"):(this._changeState($.ACTIVE),this._nextReconnectDelay=this.reconnectDelay,this._connect())};this.state===$.DEACTIVATING?(this.debug("Waiting for deactivation to finish before activating"),this.deactivate().then(()=>{e()})):e()}async _connect(){if(await this.beforeConnect(this),this._stompHandler)return void this.debug("There is already a stompHandler, skipping the call to connect");if(!this.active)return void this.debug("Client has been marked inactive, will not attempt to connect");this.connectionTimeout>0&&(this._connectionWatcher&&clearTimeout(this._connectionWatcher),this._connectionWatcher=setTimeout(()=>{this.connected||(this.debug(`Connection not established in ${this.connectionTimeout}ms, closing socket`),this.forceDisconnect())},this.connectionTimeout)),this.debug("Opening Web Socket...");const e=this._createWebSocket();this._stompHandler=new K(this,e,{debug:this.debug,stompVersions:this.stompVersions,connectHeaders:this.connectHeaders,disconnectHeaders:this._disconnectHeaders,heartbeatIncoming:this.heartbeatIncoming,heartbeatGracePeriods:this.heartbeatToleranceMultiplier,heartbeatOutgoing:this.heartbeatOutgoing,heartbeatStrategy:this.heartbeatStrategy,splitLargeFrames:this.splitLargeFrames,maxWebSocketChunkSize:this.maxWebSocketChunkSize,forceBinaryWSFrames:this.forceBinaryWSFrames,logRawCommunication:this.logRawCommunication,appendMissingNULLonIncoming:this.appendMissingNULLonIncoming,discardWebsocketOnCommFailure:this.discardWebsocketOnCommFailure,onConnect:e=>{if(this._connectionWatcher&&(clearTimeout(this._connectionWatcher),this._connectionWatcher=void 0),this._nextReconnectDelay=this.reconnectDelay,!this.active)return this.debug("STOMP got connected while deactivate was issued, will disconnect now"),void this._disposeStompHandler();this.onConnect(e)},onDisconnect:e=>{this.onDisconnect(e)},onStompError:e=>{this.onStompError(e)},onWebSocketClose:e=>{this._stompHandler=void 0,this.state===$.DEACTIVATING&&this._changeState($.INACTIVE),this.onWebSocketClose(e),this.active&&this._schedule_reconnect()},onWebSocketError:e=>{this.onWebSocketError(e)},onUnhandledMessage:e=>{this.onUnhandledMessage(e)},onUnhandledReceipt:e=>{this.onUnhandledReceipt(e)},onUnhandledFrame:e=>{this.onUnhandledFrame(e)},onHeartbeatReceived:()=>{this.onHeartbeatReceived()},onHeartbeatLost:()=>{this.onHeartbeatLost()}}),this._stompHandler.start()}_createWebSocket(){let e;if(this.webSocketFactory)e=this.webSocketFactory();else{if(!this.brokerURL)throw new Error("Either brokerURL or webSocketFactory must be provided");e=new WebSocket(this.brokerURL,this.stompVersions.protocolVersions())}return e.binaryType="arraybuffer",e}_schedule_reconnect(){this._nextReconnectDelay>0&&(this.debug(`STOMP: scheduling reconnection in ${this._nextReconnectDelay}ms`),this._reconnector=setTimeout(()=>{this.reconnectTimeMode===z.EXPONENTIAL&&(this._nextReconnectDelay=2*this._nextReconnectDelay,0!==this.maxReconnectDelay&&(this._nextReconnectDelay=Math.min(this._nextReconnectDelay,this.maxReconnectDelay))),this._connect()},this._nextReconnectDelay))}async deactivate(e={}){var t;const n=e.force||!1,s=this.active;let i;if(this.state===$.INACTIVE)return this.debug("Already INACTIVE, nothing more to do"),Promise.resolve();if(this._changeState($.DEACTIVATING),this._nextReconnectDelay=0,this._reconnector&&(clearTimeout(this._reconnector),this._reconnector=void 0),!this._stompHandler||this.webSocket.readyState===M.CLOSED)return this._changeState($.INACTIVE),Promise.resolve();{const e=this._stompHandler.onWebSocketClose;i=new Promise((t,n)=>{this._stompHandler.onWebSocketClose=n=>{e(n),t()}})}return n?null==(t=this._stompHandler)||t.discardWebsocket():s&&this._disposeStompHandler(),i}forceDisconnect(){this._stompHandler&&this._stompHandler.forceDisconnect()}_disposeStompHandler(){this._stompHandler&&this._stompHandler.dispose()}publish(e){this._checkConnection(),this._stompHandler.publish(e)}_checkConnection(){if(!this.connected)throw new TypeError("There is no underlying STOMP connection")}watchForReceipt(e,t){this._checkConnection(),this._stompHandler.watchForReceipt(e,t)}subscribe(e,t,n={}){return this._checkConnection(),this._stompHandler.subscribe(e,t,n)}unsubscribe(e,t={}){this._checkConnection(),this._stompHandler.unsubscribe(e,t)}begin(e){return this._checkConnection(),this._stompHandler.begin(e)}commit(e){this._checkConnection(),this._stompHandler.commit(e)}abort(e){this._checkConnection(),this._stompHandler.abort(e)}ack(e,t,n={}){this._checkConnection(),this._stompHandler.ack(e,t,n)}nack(e,t,n={}){this._checkConnection(),this._stompHandler.nack(e,t,n)}}var Z={exports:{}},ee=b.WebSocket||b.MozWebSocket;Z.exports=ee?function(e){return new ee(e)}:void 0;var te=Z.exports,ne=y,se=w,ie=v,re=g.EventEmitter,ae=te;function oe(e,t,n){if(!oe.enabled())throw new Error("Transport created when disabled");re.call(this);var s=this,i=se.addPath(e,"/websocket");i="https"===i.slice(0,5)?"wss"+i.slice(5):"ws"+i.slice(4),this.url=i,this.ws=new ae(this.url,[],n),this.ws.onmessage=function(e){e.data,s.emit("message",e.data)},this.unloadRef=ne.unloadAdd(function(){s.ws.close()}),this.ws.onclose=function(e){e.code,e.reason,s.emit("close",e.code,e.reason),s._cleanup()},this.ws.onerror=function(e){s.emit("close",1006,"WebSocket connection broken"),s._cleanup()}}ie(oe,re),oe.prototype.send=function(e){var t="["+e+"]";this.ws.send(t)},oe.prototype.close=function(){var e=this.ws;this._cleanup(),e&&e.close()},oe.prototype._cleanup=function(){var e=this.ws;e&&(e.onmessage=e.onclose=e.onerror=null),ne.unloadDel(this.unloadRef),this.unloadRef=this.ws=null,this.removeAllListeners()},oe.enabled=function(){return!!ae},oe.transportName="websocket",oe.roundTrips=2;var ce=oe,le=v,he=g.EventEmitter;function de(e,t){he.call(this),this.sendBuffer=[],this.sender=t,this.url=e}le(de,he),de.prototype.send=function(e){this.sendBuffer.push(e),this.sendStop||this.sendSchedule()},de.prototype.sendScheduleWait=function(){var e,t=this;this.sendStop=function(){t.sendStop=null,clearTimeout(e)},e=setTimeout(function(){t.sendStop=null,t.sendSchedule()},25)},de.prototype.sendSchedule=function(){this.sendBuffer.length;var e=this;if(this.sendBuffer.length>0){var t="["+this.sendBuffer.join(",")+"]";this.sendStop=this.sender(this.url,t,function(t){e.sendStop=null,t?(e.emit("close",t.code||1006,"Sending error: "+t),e.close()):e.sendScheduleWait()}),this.sendBuffer=[]}},de.prototype._cleanup=function(){this.removeAllListeners()},de.prototype.close=function(){this._cleanup(),this.sendStop&&(this.sendStop(),this.sendStop=null)};var ue=de,me=v,pe=g.EventEmitter;function fe(e,t,n){pe.call(this),this.Receiver=e,this.receiveUrl=t,this.AjaxObject=n,this._scheduleReceiver()}me(fe,pe),fe.prototype._scheduleReceiver=function(){var e=this,t=this.poll=new this.Receiver(this.receiveUrl,this.AjaxObject);t.on("message",function(t){e.emit("message",t)}),t.once("close",function(n,s){e.pollIsClosing,e.poll=t=null,e.pollIsClosing||("network"===s?e._scheduleReceiver():(e.emit("close",n||1006,s),e.removeAllListeners()))})},fe.prototype.abort=function(){this.removeAllListeners(),this.pollIsClosing=!0,this.poll&&this.poll.abort()};var be=w,ve=ue,ge=fe;function ye(e,t,n,s,i){var r=be.addPath(e,t),a=this;ve.call(this,e,n),this.poll=new ge(s,r,i),this.poll.on("message",function(e){a.emit("message",e)}),this.poll.once("close",function(e,t){a.poll=null,a.emit("close",e,t),a.close()})}v(ye,ve),ye.prototype.close=function(){ve.prototype.close.call(this),this.removeAllListeners(),this.poll&&(this.poll.abort(),this.poll=null)};var we=ye,xe=w,_e=we;function Ne(e,t,n,s){_e.call(this,e,t,function(e){return function(t,n,s){var i={};"string"==typeof n&&(i.headers={"Content-type":"text/plain"});var r=xe.addPath(t,"/xhr_send"),a=new e("POST",r,n,i);return a.once("finish",function(e){if(a=null,200!==e&&204!==e)return s(new Error("http status "+e));s()}),function(){a.close(),a=null;var e=new Error("Aborted");e.code=1e3,s(e)}}}(s),n,s)}v(Ne,_e);var Se=Ne,je=v,Ee=g.EventEmitter;function ke(e,t){Ee.call(this);var n=this;this.bufferPosition=0,this.xo=new t("POST",e,null),this.xo.on("chunk",this._chunkHandler.bind(this)),this.xo.once("finish",function(e,t){n._chunkHandler(e,t),n.xo=null;var s=200===e?"network":"permanent";n.emit("close",null,s),n._cleanup()})}je(ke,Ee),ke.prototype._chunkHandler=function(e,t){if(200===e&&t)for(var n=-1;;this.bufferPosition+=n+1){var s=t.slice(this.bufferPosition);if(-1===(n=s.indexOf("\n")))break;var i=s.slice(0,n);i&&this.emit("message",i)}},ke.prototype._cleanup=function(){this.removeAllListeners()},ke.prototype.abort=function(){this.xo&&(this.xo.close(),this.emit("close",null,"user"),this.xo=null),this._cleanup()};var Ce=ke,Te=x;function Ae(e,t,n,s){Te.call(this,e,t,n,s)}v(Ae,Te),Ae.enabled=Te.enabled&&Te.supportsCORS;var Ie=Ae,Oe=Se,Re=Ce,De=Ie,He=N,Le=_;function Be(e){if(!He.enabled&&!De.enabled)throw new Error("Transport created when disabled");Oe.call(this,e,"/xhr_streaming",Re,De)}v(Be,Oe),Be.enabled=function(e){return!e.nullOrigin&&(!Le.isOpera()&&De.enabled)},Be.transportName="xhr-streaming",Be.roundTrips=2,Be.needBody=!!b.document;var Pe=Be,We=g.EventEmitter,Ue=y,Me=_,Fe=w;function $e(e,t,n){var s=this;We.call(this),setTimeout(function(){s._start(e,t,n)},0)}v($e,We),$e.prototype._start=function(e,t,n){var s=this,i=new b.XDomainRequest;t=Fe.addQuery(t,"t="+ +new Date),i.onerror=function(){s._error()},i.ontimeout=function(){s._error()},i.onprogress=function(){i.responseText,s.emit("chunk",200,i.responseText)},i.onload=function(){s.emit("finish",200,i.responseText),s._cleanup(!1)},this.xdr=i,this.unloadRef=Ue.unloadAdd(function(){s._cleanup(!0)});try{this.xdr.open(e,t),this.timeout&&(this.xdr.timeout=this.timeout),this.xdr.send(n)}catch(r){this._error()}},$e.prototype._error=function(){this.emit("finish",0,""),this._cleanup(!1)},$e.prototype._cleanup=function(e){if(this.xdr){if(this.removeAllListeners(),Ue.unloadDel(this.unloadRef),this.xdr.ontimeout=this.xdr.onerror=this.xdr.onprogress=this.xdr.onload=null,e)try{this.xdr.abort()}catch(t){}this.unloadRef=this.xdr=null}},$e.prototype.close=function(){this._cleanup(!0)},$e.enabled=!(!b.XDomainRequest||!Me.hasDomain());var Ve=$e,ze=Se,Ge=Ce,qe=Ve;function Je(e){if(!qe.enabled)throw new Error("Transport created when disabled");ze.call(this,e,"/xhr_streaming",Ge,qe)}v(Je,ze),Je.enabled=function(e){return!e.cookie_needed&&!e.nullOrigin&&(qe.enabled&&e.sameScheme)},Je.transportName="xdr-streaming",Je.roundTrips=2;var Ye=Je,Xe=b.EventSource,Ke=v,Qe=g.EventEmitter,Ze=Xe;function et(e){Qe.call(this);var t=this,n=this.es=new Ze(e);n.onmessage=function(e){e.data,t.emit("message",decodeURI(e.data))},n.onerror=function(e){n.readyState;var s=2!==n.readyState?"network":"permanent";t._cleanup(),t._close(s)}}Ke(et,Qe),et.prototype.abort=function(){this._cleanup(),this._close("user")},et.prototype._cleanup=function(){var e=this.es;e&&(e.onmessage=e.onerror=null,e.close(),this.es=null)},et.prototype._close=function(e){var t=this;setTimeout(function(){t.emit("close",null,e),t.removeAllListeners()},200)};var tt=Se,nt=et,st=Ie,it=Xe;function rt(e){if(!rt.enabled())throw new Error("Transport created when disabled");tt.call(this,e,"/eventsource",nt,st)}v(rt,tt),rt.enabled=function(){return!!it},rt.transportName="eventsource",rt.roundTrips=2;var at,ot,ct=rt;function lt(){return ot?at:(ot=1,at="1.6.1")}var ht=v,dt=g.EventEmitter,ut=lt(),mt=w,pt=S,ft=y,bt=j;function vt(e,t,n){if(!vt.enabled())throw new Error("Transport created when disabled");dt.call(this);var s=this;this.origin=mt.getOrigin(n),this.baseUrl=n,this.transUrl=t,this.transport=e,this.windowId=bt.string(8);var i=mt.addPath(n,"/iframe.html")+"#"+this.windowId;this.iframeObj=pt.createIframe(i,function(e){s.emit("close",1006,"Unable to load an iframe ("+e+")"),s.close()}),this.onmessageCallback=this._message.bind(this),ft.attachEvent("message",this.onmessageCallback)}ht(vt,dt),vt.prototype.close=function(){if(this.removeAllListeners(),this.iframeObj){ft.detachEvent("message",this.onmessageCallback);try{this.postMessage("c")}catch(e){}this.iframeObj.cleanup(),this.iframeObj=null,this.onmessageCallback=this.iframeObj=null}},vt.prototype._message=function(e){if(e.data,!mt.isOriginEqual(e.origin,this.origin))return e.origin,void this.origin;var t;try{t=JSON.parse(e.data)}catch(s){return void e.data}if(t.windowId!==this.windowId)return t.windowId,void this.windowId;switch(t.type){case"s":this.iframeObj.loaded(),this.postMessage("s",JSON.stringify([ut,this.transport,this.transUrl,this.baseUrl]));break;case"t":this.emit("message",t.data);break;case"c":var n;try{n=JSON.parse(t.data)}catch(s){return void t.data}this.emit("close",n[0],n[1]),this.close()}},vt.prototype.postMessage=function(e,t){this.iframeObj.post(JSON.stringify({windowId:this.windowId,type:e,data:t||""}),this.origin)},vt.prototype.send=function(e){this.postMessage("m",e)},vt.enabled=function(){return pt.iframeEnabled},vt.transportName="iframe",vt.roundTrips=2;var gt=vt,yt=v,wt=gt,xt=E,_t=function(e){function t(t,n){wt.call(this,e.transportName,t,n)}return yt(t,wt),t.enabled=function(t,n){if(!b.document)return!1;var s=xt.extend({},n);return s.sameOrigin=!0,e.enabled(s)&&wt.enabled()},t.transportName="iframe-"+e.transportName,t.needBody=!0,t.roundTrips=wt.roundTrips+e.roundTrips-1,t.facadeTransport=e,t},Nt=v,St=S,jt=w,Et=g.EventEmitter,kt=j;function Ct(e){Et.call(this);var t=this;St.polluteGlobalNamespace(),this.id="a"+kt.string(6),e=jt.addQuery(e,"c="+decodeURIComponent(St.WPrefix+"."+this.id)),Ct.htmlfileEnabled;var n=Ct.htmlfileEnabled?St.createHtmlfile:St.createIframe;b[St.WPrefix][this.id]={start:function(){t.iframeObj.loaded()},message:function(e){t.emit("message",e)},stop:function(){t._cleanup(),t._close("network")}},this.iframeObj=n(e,function(){t._cleanup(),t._close("permanent")})}Nt(Ct,Et),Ct.prototype.abort=function(){this._cleanup(),this._close("user")},Ct.prototype._cleanup=function(){this.iframeObj&&(this.iframeObj.cleanup(),this.iframeObj=null),delete b[St.WPrefix][this.id]},Ct.prototype._close=function(e){this.emit("close",null,e),this.removeAllListeners()},Ct.htmlfileEnabled=!1;var Tt=["Active"].concat("Object").join("X");if(Tt in b)try{Ct.htmlfileEnabled=!!new b[Tt]("htmlfile")}catch(Ys){}Ct.enabled=Ct.htmlfileEnabled||St.iframeEnabled;var At=Ct,It=N,Ot=Se;function Rt(e){if(!At.enabled)throw new Error("Transport created when disabled");Ot.call(this,e,"/htmlfile",At,It)}v(Rt,Ot),Rt.enabled=function(e){return At.enabled&&e.sameOrigin},Rt.transportName="htmlfile",Rt.roundTrips=2;var Dt=Rt,Ht=Se,Lt=Ce,Bt=Ie,Pt=N;function Wt(e){if(!Pt.enabled&&!Bt.enabled)throw new Error("Transport created when disabled");Ht.call(this,e,"/xhr",Lt,Bt)}v(Wt,Ht),Wt.enabled=function(e){return!e.nullOrigin&&(!(!Pt.enabled||!e.sameOrigin)||Bt.enabled)},Wt.transportName="xhr-polling",Wt.roundTrips=2;var Ut=Wt,Mt=Se,Ft=Ye,$t=Ce,Vt=Ve;function zt(e){if(!Vt.enabled)throw new Error("Transport created when disabled");Mt.call(this,e,"/xhr",$t,Vt)}v(zt,Mt),zt.enabled=Ft.enabled,zt.transportName="xdr-polling",zt.roundTrips=2;var Gt=zt,qt=S,Jt=j,Yt=_,Xt=w,Kt=v,Qt=g.EventEmitter;function Zt(e){var t=this;Qt.call(this),qt.polluteGlobalNamespace(),this.id="a"+Jt.string(6);var n=Xt.addQuery(e,"c="+encodeURIComponent(qt.WPrefix+"."+this.id));b[qt.WPrefix][this.id]=this._callback.bind(this),this._createScript(n),this.timeoutId=setTimeout(function(){t._abort(new Error("JSONP script loaded abnormally (timeout)"))},Zt.timeout)}Kt(Zt,Qt),Zt.prototype.abort=function(){if(b[qt.WPrefix][this.id]){var e=new Error("JSONP user aborted read");e.code=1e3,this._abort(e)}},Zt.timeout=35e3,Zt.scriptErrorTimeout=1e3,Zt.prototype._callback=function(e){this._cleanup(),this.aborting||(e&&this.emit("message",e),this.emit("close",null,"network"),this.removeAllListeners())},Zt.prototype._abort=function(e){this._cleanup(),this.aborting=!0,this.emit("close",e.code,e.message),this.removeAllListeners()},Zt.prototype._cleanup=function(){if(clearTimeout(this.timeoutId),this.script2&&(this.script2.parentNode.removeChild(this.script2),this.script2=null),this.script){var e=this.script;e.parentNode.removeChild(e),e.onreadystatechange=e.onerror=e.onload=e.onclick=null,this.script=null}delete b[qt.WPrefix][this.id]},Zt.prototype._scriptError=function(){var e=this;this.errorTimer||(this.errorTimer=setTimeout(function(){e.loadedOkay||e._abort(new Error("JSONP script loaded abnormally (onerror)"))},Zt.scriptErrorTimeout))},Zt.prototype._createScript=function(e){var t,n=this,s=this.script=b.document.createElement("script");if(s.id="a"+Jt.string(8),s.src=e,s.type="text/javascript",s.charset="UTF-8",s.onerror=this._scriptError.bind(this),s.onload=function(){n._abort(new Error("JSONP script loaded abnormally (onload)"))},s.onreadystatechange=function(){if(s.readyState,/loaded|closed/.test(s.readyState)){if(s&&s.htmlFor&&s.onclick){n.loadedOkay=!0;try{s.onclick()}catch(Ys){}}s&&n._abort(new Error("JSONP script loaded abnormally (onreadystatechange)"))}},void 0===s.async&&b.document.attachEvent)if(Yt.isOpera())(t=this.script2=b.document.createElement("script")).text="try{var a = document.getElementById('"+s.id+"'); if(a)a.onerror();}catch(x){};",s.async=t.async=!1;else{try{s.htmlFor=s.id,s.event="onclick"}catch(Ys){}s.async=!0}void 0!==s.async&&(s.async=!0);var i=b.document.getElementsByTagName("head")[0];i.insertBefore(s,i.firstChild),t&&i.insertBefore(t,i.firstChild)};var en,tn,nn=j,sn=w;var rn=we,an=Zt,on=function(e,t,n){en||((en=b.document.createElement("form")).style.display="none",en.style.position="absolute",en.method="POST",en.enctype="application/x-www-form-urlencoded",en.acceptCharset="UTF-8",(tn=b.document.createElement("textarea")).name="d",en.appendChild(tn),b.document.body.appendChild(en));var s="a"+nn.string(8);en.target=s,en.action=sn.addQuery(sn.addPath(e,"/jsonp_send"),"i="+s);var i=function(e){try{return b.document.createElement('<iframe name="'+e+'">')}catch(Ys){var t=b.document.createElement("iframe");return t.name=e,t}}(s);i.id=s,i.style.display="none",en.appendChild(i);try{tn.value=t}catch(a){}en.submit();var r=function(e){i.onerror&&(i.onreadystatechange=i.onerror=i.onload=null,setTimeout(function(){i.parentNode.removeChild(i),i=null},500),tn.value="",n(e))};return i.onerror=function(){r()},i.onload=function(){r()},i.onreadystatechange=function(e){i.readyState,"complete"===i.readyState&&r()},function(){r(new Error("Aborted"))}};function cn(e){if(!cn.enabled())throw new Error("Transport created when disabled");rn.call(this,e,"/jsonp",on,an)}v(cn,rn),cn.enabled=function(){return!!b.document},cn.transportName="jsonp-polling",cn.roundTrips=1,cn.needBody=!0;var ln,hn=cn,dn=[ce,Pe,Ye,ct,_t(ct),Dt,_t(Dt),Ut,Gt,_t(Ut),hn],un=Array.prototype,mn=Object.prototype,pn=Function.prototype,fn=String.prototype,bn=un.slice,vn=mn.toString,gn=function(e){return"[object Function]"===mn.toString.call(e)},yn=function(e){return"[object String]"===vn.call(e)},wn=Object.defineProperty&&function(){try{return Object.defineProperty({},"x",{}),!0}catch(e){return!1}}();ln=wn?function(e,t,n,s){!s&&t in e||Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:!0,value:n})}:function(e,t,n,s){!s&&t in e||(e[t]=n)};var xn=function(e,t,n){for(var s in t)mn.hasOwnProperty.call(t,s)&&ln(e,s,t[s],n)},_n=function(e){if(null==e)throw new TypeError("can't convert "+e+" to object");return Object(e)};function Nn(){}xn(pn,{bind:function(e){var t=this;if(!gn(t))throw new TypeError("Function.prototype.bind called on incompatible "+t);for(var n=bn.call(arguments,1),s=Math.max(0,t.length-n.length),i=[],r=0;r<s;r++)i.push("$"+r);var a=Function("binder","return function ("+i.join(",")+"){ return binder.apply(this, arguments); }")(function(){if(this instanceof a){var s=t.apply(this,n.concat(bn.call(arguments)));return Object(s)===s?s:this}return t.apply(e,n.concat(bn.call(arguments)))});return t.prototype&&(Nn.prototype=t.prototype,a.prototype=new Nn,Nn.prototype=null),a}}),xn(Array,{isArray:function(e){return"[object Array]"===vn.call(e)}});var Sn,jn,En,kn=Object("a"),Cn="a"!==kn[0]||!(0 in kn);xn(un,{forEach:function(e){var t=_n(this),n=Cn&&yn(this)?this.split(""):t,s=arguments[1],i=-1,r=n.length>>>0;if(!gn(e))throw new TypeError;for(;++i<r;)i in n&&e.call(s,n[i],i,t)}},(Sn=un.forEach,jn=!0,En=!0,Sn&&(Sn.call("foo",function(e,t,n){"object"!=typeof n&&(jn=!1)}),Sn.call([1],function(){En="string"==typeof this},"x")),!(Sn&&jn&&En)));var Tn=Array.prototype.indexOf&&-1!==[0,1].indexOf(1,2);xn(un,{indexOf:function(e){var t=Cn&&yn(this)?this.split(""):_n(this),n=t.length>>>0;if(!n)return-1;var s,i=0;for(arguments.length>1&&((s=+arguments[1])!=s?s=0:0!==s&&s!==1/0&&s!==-a&&(s=(s>0||-1)*Math.floor(Math.abs(s))),i=s),i=i>=0?i:Math.max(0,n+i);i<n;i++)if(i in t&&t[i]===e)return i;return-1}},Tn);var An,In=fn.split;2!=="ab".split(/(?:ab)*/).length||4!==".".split(/(.?)(.?)/).length||"t"==="tesst".split(/(s)*/)[1]||4!=="test".split(/(?:)/,-1).length||"".split(/.?/).length||".".split(/()()/).length>1?(An=void 0===/()??/.exec("")[1],fn.split=function(e,t){var n=this;if(void 0===e&&0===t)return[];if("[object RegExp]"!==vn.call(e))return In.call(this,e,t);var s,i,r,a,o=[],c=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.extended?"x":"")+(e.sticky?"y":""),l=0;for(e=new RegExp(e.source,c+"g"),n+="",An||(s=new RegExp("^"+e.source+"$(?!\\s)",c)),t=void 0===t?-1>>>0:t>>>0;(i=e.exec(n))&&!((r=i.index+i[0].length)>l&&(o.push(n.slice(l,i.index)),!An&&i.length>1&&i[0].replace(s,function(){for(var e=1;e<arguments.length-2;e++)void 0===arguments[e]&&(i[e]=void 0)}),i.length>1&&i.index<n.length&&un.push.apply(o,i.slice(1)),a=i[0].length,l=r,o.length>=t));)e.lastIndex===i.index&&e.lastIndex++;return l===n.length?!a&&e.test("")||o.push(""):o.push(n.slice(l)),o.length>t?o.slice(0,t):o}):"0".split(void 0,0).length&&(fn.split=function(e,t){return void 0===e&&0===t?[]:In.call(this,e,t)});var On=fn.substr,Rn="".substr&&"b"!=="0b".substr(-1);xn(fn,{substr:function(e,t){return On.call(this,e<0&&(e=this.length+e)<0?0:e,t)}},Rn);var Dn,Hn=/[\x00-\x1f\ud800-\udfff\ufffe\uffff\u0300-\u0333\u033d-\u0346\u034a-\u034c\u0350-\u0352\u0357-\u0358\u035c-\u0362\u0374\u037e\u0387\u0591-\u05af\u05c4\u0610-\u0617\u0653-\u0654\u0657-\u065b\u065d-\u065e\u06df-\u06e2\u06eb-\u06ec\u0730\u0732-\u0733\u0735-\u0736\u073a\u073d\u073f-\u0741\u0743\u0745\u0747\u07eb-\u07f1\u0951\u0958-\u095f\u09dc-\u09dd\u09df\u0a33\u0a36\u0a59-\u0a5b\u0a5e\u0b5c-\u0b5d\u0e38-\u0e39\u0f43\u0f4d\u0f52\u0f57\u0f5c\u0f69\u0f72-\u0f76\u0f78\u0f80-\u0f83\u0f93\u0f9d\u0fa2\u0fa7\u0fac\u0fb9\u1939-\u193a\u1a17\u1b6b\u1cda-\u1cdb\u1dc0-\u1dcf\u1dfc\u1dfe\u1f71\u1f73\u1f75\u1f77\u1f79\u1f7b\u1f7d\u1fbb\u1fbe\u1fc9\u1fcb\u1fd3\u1fdb\u1fe3\u1feb\u1fee-\u1fef\u1ff9\u1ffb\u1ffd\u2000-\u2001\u20d0-\u20d1\u20d4-\u20d7\u20e7-\u20e9\u2126\u212a-\u212b\u2329-\u232a\u2adc\u302b-\u302c\uaab2-\uaab3\uf900-\ufa0d\ufa10\ufa12\ufa15-\ufa1e\ufa20\ufa22\ufa25-\ufa26\ufa2a-\ufa2d\ufa30-\ufa6d\ufa70-\ufad9\ufb1d\ufb1f\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufb4e\ufff0-\uffff]/g,Ln={quote:function(e){var t=JSON.stringify(e);return Hn.lastIndex=0,Hn.test(t)?(Dn||(Dn=function(e){var t,n={},s=[];for(t=0;t<65536;t++)s.push(String.fromCharCode(t));return e.lastIndex=0,s.join("").replace(e,function(e){return n[e]="\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4),""}),e.lastIndex=0,n}(Hn)),t.replace(Hn,function(e){return Dn[e]})):t}},Bn={};["log","debug","warn"].forEach(function(e){var t;try{t=b.console&&b.console[e]&&b.console[e].apply}catch(n){}Bn[e]=t?function(){return b.console[e].apply(b.console,arguments)}:"log"===e?function(){}:Bn.log});var Pn=Bn;function Wn(e){this.type=e}Wn.prototype.initEvent=function(e,t,n){return this.type=e,this.bubbles=t,this.cancelable=n,this.timeStamp=+new Date,this},Wn.prototype.stopPropagation=function(){},Wn.prototype.preventDefault=function(){},Wn.CAPTURING_PHASE=1,Wn.AT_TARGET=2,Wn.BUBBLING_PHASE=3;var Un=Wn,Mn=Un;function Fn(){Mn.call(this),this.initEvent("close",!1,!1),this.wasClean=!1,this.code=0,this.reason=""}v(Fn,Mn);var $n=Fn,Vn=Un;function zn(e){Vn.call(this),this.initEvent("message",!1,!1),this.data=e}v(zn,Vn);var Gn=zn,qn=g.EventEmitter;function Jn(){var e=this;qn.call(this),this.to=setTimeout(function(){e.emit("finish",200,"{}")},Jn.timeout)}v(Jn,qn),Jn.prototype.close=function(){clearTimeout(this.to)},Jn.timeout=2e3;var Yn=Jn,Xn=g.EventEmitter,Kn=v,Qn=y,Zn=gt,es=k();function ts(e,t){var n=this;Xn.call(this);var s=function(){var s=n.ifr=new Zn(es.transportName,t,e);s.once("message",function(e){if(e){var t;try{t=JSON.parse(e)}catch(r){return n.emit("finish"),void n.close()}var s=t[0],i=t[1];n.emit("finish",s,i)}n.close()}),s.once("close",function(){n.emit("finish"),n.close()})};b.document.body?s():Qn.attachEvent("load",s)}Kn(ts,Xn),ts.enabled=function(){return Zn.enabled()},ts.prototype.close=function(){this.ifr&&this.ifr.close(),this.removeAllListeners(),this.ifr=null};var ns=ts,ss=g.EventEmitter,is=w,rs=Ve,as=Ie,os=N,cs=Yn,ls=ns,hs=C;function ds(e,t){var n=this;ss.call(this),setTimeout(function(){n.doXhr(e,t)},0)}v(ds,ss),ds._getReceiver=function(e,t,n){return n.sameOrigin?new hs(t,os):as.enabled?new hs(t,as):rs.enabled&&n.sameScheme?new hs(t,rs):ls.enabled()?new ls(e,t):new hs(t,cs)},ds.prototype.doXhr=function(e,t){var n=this,s=is.addPath(e,"/info");this.xo=ds._getReceiver(e,s,t),this.timeoutRef=setTimeout(function(){n._cleanup(!1),n.emit("finish")},ds.timeout),this.xo.once("finish",function(e,t){n._cleanup(!0),n.emit("finish",e,t)})},ds.prototype._cleanup=function(e){clearTimeout(this.timeoutRef),this.timeoutRef=null,!e&&this.xo&&this.xo.close(),this.xo=null},ds.prototype.close=function(){this.removeAllListeners(),this._cleanup(!1)},ds.timeout=8e3;var us,ms=I,ps=j,fs=Ln,bs=w,vs=y,gs=function(e){return{filterToEnabled:function(t,n){var s={main:[],facade:[]};return t?"string"==typeof t&&(t=[t]):t=[],e.forEach(function(e){e&&("websocket"===e.transportName&&!1===n.websocket||(t.length&&-1===t.indexOf(e.transportName)?e.transportName:e.enabled(n)?(e.transportName,s.main.push(e),e.facadeTransport&&s.facade.push(e.facadeTransport)):e.transportName))}),s}}},ys=E,ws=_,xs=Pn,_s=Un,Ns=A,Ss=O,js=$n,Es=Gn,ks=ds,Cs=function(){};function Ts(e,t,n){if(!(this instanceof Ts))return new Ts(e,t,n);if(arguments.length<1)throw new TypeError("Failed to construct 'SockJS: 1 argument required, but only 0 present");Ns.call(this),this.readyState=Ts.CONNECTING,this.extensions="",this.protocol="",(n=n||{}).protocols_whitelist&&xs.warn("'protocols_whitelist' is DEPRECATED. Use 'transports' instead."),this._transportsWhitelist=n.transports,this._transportOptions=n.transportOptions||{},this._timeout=n.timeout||0;var s=n.sessionId||8;if("function"==typeof s)this._generateSessionId=s;else{if("number"!=typeof s)throw new TypeError("If sessionId is used in the options, it needs to be a number or a function.");this._generateSessionId=function(){return ps.string(s)}}this._server=n.server||ps.numberString(1e3);var i=new ms(e);if(!i.host||!i.protocol)throw new SyntaxError("The URL '"+e+"' is invalid");if(i.hash)throw new SyntaxError("The URL must not contain a fragment");if("http:"!==i.protocol&&"https:"!==i.protocol)throw new SyntaxError("The URL's scheme must be either 'http:' or 'https:'. '"+i.protocol+"' is not allowed.");var r="https:"===i.protocol;if("https:"===Ss.protocol&&!r&&!bs.isLoopbackAddr(i.hostname))throw new Error("SecurityError: An insecure SockJS connection may not be initiated from a page loaded over HTTPS");t?Array.isArray(t)||(t=[t]):t=[];var a=t.sort();a.forEach(function(e,t){if(!e)throw new SyntaxError("The protocols entry '"+e+"' is invalid.");if(t<a.length-1&&e===a[t+1])throw new SyntaxError("The protocols entry '"+e+"' is duplicated.")});var o=bs.getOrigin(Ss.href);this._origin=o?o.toLowerCase():null,i.set("pathname",i.pathname.replace(/\/+$/,"")),this.url=i.href,this.url,this._urlInfo={nullOrigin:!ws.hasDomain(),sameOrigin:bs.isOriginEqual(this.url,Ss.href),sameScheme:bs.isSchemeEqual(this.url,Ss.href)},this._ir=new ks(this.url,this._urlInfo),this._ir.once("finish",this._receiveInfo.bind(this))}function As(e){return 1e3===e||e>=3e3&&e<=4999}v(Ts,Ns),Ts.prototype.close=function(e,t){if(e&&!As(e))throw new Error("InvalidAccessError: Invalid code");if(t&&t.length>123)throw new SyntaxError("reason argument has an invalid length");if(this.readyState!==Ts.CLOSING&&this.readyState!==Ts.CLOSED){this._close(e||1e3,t||"Normal closure",!0)}},Ts.prototype.send=function(e){if("string"!=typeof e&&(e=""+e),this.readyState===Ts.CONNECTING)throw new Error("InvalidStateError: The connection has not been established yet");this.readyState===Ts.OPEN&&this._transport.send(fs.quote(e))},Ts.version=lt(),Ts.CONNECTING=0,Ts.OPEN=1,Ts.CLOSING=2,Ts.CLOSED=3,Ts.prototype._receiveInfo=function(e,t){if(this._ir=null,e){this._rto=this.countRTO(t),this._transUrl=e.base_url?e.base_url:this.url,e=ys.extend(e,this._urlInfo);var n=us.filterToEnabled(this._transportsWhitelist,e);this._transports=n.main,this._transports.length,this._connect()}else this._close(1002,"Cannot connect to server")},Ts.prototype._connect=function(){for(var e=this._transports.shift();e;e=this._transports.shift()){if(Cs(e.transportName),e.needBody&&(!b.document.body||void 0!==b.document.readyState&&"complete"!==b.document.readyState&&"interactive"!==b.document.readyState))return this._transports.unshift(e),void vs.attachEvent("load",this._connect.bind(this));var t=Math.max(this._timeout,this._rto*e.roundTrips||5e3);this._transportTimeoutId=setTimeout(this._transportTimeout.bind(this),t);var n=bs.addPath(this._transUrl,"/"+this._server+"/"+this._generateSessionId()),s=this._transportOptions[e.transportName],i=new e(n,this._transUrl,s);return i.on("message",this._transportMessage.bind(this)),i.once("close",this._transportClose.bind(this)),i.transportName=e.transportName,void(this._transport=i)}this._close(2e3,"All transports failed",!1)},Ts.prototype._transportTimeout=function(){this.readyState===Ts.CONNECTING&&(this._transport&&this._transport.close(),this._transportClose(2007,"Transport timed out"))},Ts.prototype._transportMessage=function(e){var t,n=this,s=e.slice(0,1),i=e.slice(1);switch(s){case"o":return void this._open();case"h":return this.dispatchEvent(new _s("heartbeat")),void this.transport}if(i)try{t=JSON.parse(i)}catch(r){}if(void 0!==t)switch(s){case"a":Array.isArray(t)&&t.forEach(function(e){n.transport,n.dispatchEvent(new Es(e))});break;case"m":this.transport,this.dispatchEvent(new Es(t));break;case"c":Array.isArray(t)&&2===t.length&&this._close(t[0],t[1],!0)}},Ts.prototype._transportClose=function(e,t){this.transport,this._transport&&(this._transport.removeAllListeners(),this._transport=null,this.transport=null),As(e)||2e3===e||this.readyState!==Ts.CONNECTING?this._close(e,t):this._connect()},Ts.prototype._open=function(){this._transport&&this._transport.transportName,this.readyState,this.readyState===Ts.CONNECTING?(this._transportTimeoutId&&(clearTimeout(this._transportTimeoutId),this._transportTimeoutId=null),this.readyState=Ts.OPEN,this.transport=this._transport.transportName,this.dispatchEvent(new _s("open")),this.transport):this._close(1006,"Server lost session")},Ts.prototype._close=function(e,t,n){this.transport,this.readyState;var s=!1;if(this._ir&&(s=!0,this._ir.close(),this._ir=null),this._transport&&(this._transport.close(),this._transport=null,this.transport=null),this.readyState===Ts.CLOSED)throw new Error("InvalidStateError: SockJS has already been closed");this.readyState=Ts.CLOSING,setTimeout(function(){this.readyState=Ts.CLOSED,s&&this.dispatchEvent(new _s("error"));var i=new js;i.wasClean=n||!1,i.code=e||1e3,i.reason=t,this.dispatchEvent(i),this.onmessage=this.onclose=this.onerror=null}.bind(this),0)},Ts.prototype.countRTO=function(e){return e>100?4*e:300+e};var Is,Os=(us=gs(Is=dn),T()(Ts,Is),Ts);"_sockjs_onload"in b&&setTimeout(b._sockjs_onload,1);const Rs=R(Os);const Ds=new class{constructor(){this.client=null,this.connected=!1,this.subscriptions=new Map,this.reconnectAttempts=0,this.maxReconnectAttempts=5}connect(){return this.connected?Promise.resolve():new Promise((e,t)=>{const n=new Rs("/ws");this.client=new Q({webSocketFactory:()=>n,debug:e=>{},reconnectDelay:5e3,heartbeatIncoming:4e3,heartbeatOutgoing:4e3}),this.client.onConnect=()=>{this.connected=!0,this.reconnectAttempts=0,e()},this.client.onDisconnect=()=>{this.connected=!1},this.client.onStompError=e=>{t(new Error("WebSocket connection failed"))},this.client.activate()})}disconnect(){this.client&&(this.client.deactivate(),this.connected=!1,this.subscriptions.clear())}subscribe(e,t){if(!this.connected)return null;const n=this.client.subscribe(e,e=>{try{const n=JSON.parse(e.body);t(n)}catch(n){}});return this.subscriptions.set(e,n),n}unsubscribe(e){const t=this.subscriptions.get(e);t&&(t.unsubscribe(),this.subscriptions.delete(e))}send(e,t){this.connected&&this.client.publish({destination:e,body:JSON.stringify(t)})}triggerAnimation(e,t,n={}){const s={type:e,target:t,data:n,timestamp:Date.now(),userId:this.getCurrentUserId()};this.send("/app/animation/trigger",s)}subscribeToAnimations(e){return this.subscribe("/topic/animations",e)}subscribeToUserActivity(e){return this.subscribe("/topic/user-activity",e)}sendUserActivity(e,t){const n={userId:this.getCurrentUserId(),action:e,page:t,timestamp:Date.now()};this.send("/app/user/status",n)}getCurrentUserId(){return localStorage.getItem("userId")||"anonymous"}};function Hs(){const t=s(),{user:r}=e(),a=n.useRef(null),o=n.useRef(null),c=n.useRef(null),l=n.useRef(null),h=n.useMemo(()=>{var e;const t="undefined"!=typeof window&&(window.matchMedia("(max-width: 768px)").matches||window.matchMedia("(pointer: coarse)").matches||!0===(null==(e=null==navigator?void 0:navigator.connection)?void 0:e.saveData)),n=(e,t,n,s,i,r,a,o)=>Array.from({length:e},()=>{const e=t+Math.random()*(n-t),c=s+Math.random()*(i-s),l=r+Math.random()*(a-r),h=Math.random()*o;return{top:100*Math.random(),left:100*Math.random(),size:Number(e.toFixed(2)),opacity:Number(c.toFixed(2)),twinkle:Number(l.toFixed(2)),delay:Number(h.toFixed(2))}}),s=t?{far:10,mid:8,near:6}:{far:18,mid:16,near:12},i=t?8:6,r=t?8:6;return{far:n(s.far,.6,1.4,.25,.5,i,16,r),mid:n(s.mid,.9,1.8,.35,.65,i,16,r),near:n(s.near,1.1,2.4,.5,.85,i,16,r)}},[]);return n.useEffect(()=>{var e;const t=window.matchMedia("(prefers-reduced-motion: reduce)").matches,n=window.matchMedia("(max-width: 768px)").matches,s=!0===(null==(e=null==navigator?void 0:navigator.connection)?void 0:e.saveData),i=t||n||s,r=D.context(()=>{if(D.set(".banner-content-item",{opacity:0,y:20}),D.set(".banner-poster-3d",{opacity:0,scale:.95,rotationY:5}),i)D.to([".banner-content-item",".banner-poster-3d"],{opacity:1,duration:.5});else{D.timeline({defaults:{ease:"power3.out"}}).to(".banner-content-item",{y:0,opacity:1,stagger:.08,duration:1,clearProps:"all"}).to(".banner-poster-3d",{scale:1,opacity:1,rotationY:0,duration:1.4,ease:"elastic.out(1, 0.85)"},"-=0.8")}},a);let o=null;const c=()=>{const e=a.current;if(!e)return;const t=e.getBoundingClientRect(),n=window.innerHeight||1,s=Math.min(Math.max((n-t.top)/(n+t.height),0),1),i=.18+.18*s,r=2*(s-.5);e.style.setProperty("--banner-vignette",i.toFixed(3)),e.style.setProperty("--banner-scroll-depth",r.toFixed(3))};c();const l=()=>{o||(o=window.requestAnimationFrame(()=>{o=null,c()}))};return i||(window.addEventListener("scroll",l,{passive:!0}),window.addEventListener("resize",l)),()=>{r.revert(),i||(window.removeEventListener("scroll",l),window.removeEventListener("resize",l)),o&&window.cancelAnimationFrame(o)}},[]),i.jsxs("section",{className:"banner-strip-advanced hero",id:"bundle",ref:a,children:[i.jsxs("div",{className:"galaxy-nebula-bg","aria-hidden":"true",children:[i.jsx("div",{className:"galaxy-nebula-layer"}),i.jsx("div",{className:"galaxy-nebula-layer secondary"}),i.jsx("div",{className:"banner-starfield depth-far",children:h.far.map((e,t)=>i.jsx("span",{className:"galaxy-star",style:{top:`${e.top}%`,left:`${e.left}%`,width:`${e.size}px`,height:`${e.size}px`,"--star-opacity":`${e.opacity}`,"--twinkle-duration":`${e.twinkle}s`,"--twinkle-delay":`${e.delay}s`}},`far-${t}`))}),i.jsx("div",{className:"banner-starfield depth-mid",children:h.mid.map((e,t)=>i.jsx("span",{className:"galaxy-star",style:{top:`${e.top}%`,left:`${e.left}%`,width:`${e.size}px`,height:`${e.size}px`,"--star-opacity":`${e.opacity}`,"--twinkle-duration":`${e.twinkle}s`,"--twinkle-delay":`${e.delay}s`}},`mid-${t}`))}),i.jsx("div",{className:"banner-starfield depth-near",children:h.near.map((e,t)=>i.jsx("span",{className:"galaxy-star",style:{top:`${e.top}%`,left:`${e.left}%`,width:`${e.size}px`,height:`${e.size}px`,"--star-opacity":`${e.opacity}`,"--twinkle-duration":`${e.twinkle}s`,"--twinkle-delay":`${e.delay}s`}},`near-${t}`))})]}),i.jsxs("div",{className:"container-max banner-shell",children:[i.jsxs("div",{className:"banner-copy",children:[i.jsx("div",{className:"banner-content-item",children:i.jsxs("div",{className:"banner-welcome-badge",ref:l,children:[i.jsx("span",{style:{fontSize:"1.1em"},role:"img","aria-label":"headphones",children:""}),"Welcome to AS DANCE"]})}),i.jsx("div",{className:"banner-kicker banner-content-item",children:"AS DANCE PRESENTS"}),i.jsxs("h2",{className:"banner-title-advanced banner-content-item",ref:o,children:[i.jsx("span",{className:"title-accent",children:"639-Step"})," ",i.jsx("span",{className:"title-strong",children:"Premium"}),i.jsx("br",{}),i.jsx("span",{className:"title-neon",children:"Neon"})," Dance Curriculum"]}),i.jsxs("div",{className:"banner-stats banner-content-item",children:[i.jsx("span",{className:"banner-stats-digits",children:"639"})," Steps ",i.jsx("span",{className:"ms-2",children:"196 Easy | 219 Medium | 226 Hard"})]}),i.jsxs("div",{className:"curriculum-pills banner-content-item",children:[i.jsx("span",{className:"curriculum-pill pill-easy",children:"196 Easy"}),i.jsx("span",{className:"curriculum-pill pill-medium",children:"219 Medium"}),i.jsx("span",{className:"curriculum-pill pill-hard",children:"226 Hard"})]}),i.jsxs("div",{className:"badge-row banner-content-item",children:[i.jsx("span",{children:"Stage Ready"}),i.jsx("span",{children:"Competition Worthy"}),i.jsx("span",{children:"Crowd Impress Guaranteed"})]}),i.jsx("div",{className:"banner-meta banner-content-item mt-4",children:"499 ONLY  ONE-TIME PAYMENT  LIFETIME ACCESS"}),i.jsx("p",{className:"banner-tagline banner-content-item mt-3 text-white-50",children:"Built for Stage, Battle & Audience Impact  1 Video, 639 Moves, Real Performance Power"})]}),i.jsxs("div",{className:"banner-visual banner-content-item",children:[i.jsx("div",{className:"banner-poster-3d",ref:c,children:i.jsxs("div",{className:"banner-image-layer",children:[i.jsx("div",{className:"banner-image-rotator","aria-hidden":"true"}),i.jsx("span",{className:"ring-shimmer","aria-hidden":"true"}),i.jsx("img",{src:"/assets/dhanush-kqk9M4gu.webp",alt:"AS DANCE welcome banner",loading:"eager",decoding:"async",width:"1280",height:"720",className:"banner-image banner-image-stable",style:{width:"100%",borderRadius:"50%",display:"block"}}),i.jsx("div",{className:"scanline-overlay","aria-hidden":"true"}),i.jsx("div",{className:"banner-reflection","aria-hidden":"true"})]})}),i.jsxs("div",{className:"banner-buy-wrap",children:[i.jsxs("div",{className:"banner-buy-chip",children:[i.jsx("span",{className:"price",children:"499"}),i.jsx("span",{className:"sep",children:""}),i.jsx("span",{className:"steps",children:"639 Steps"})]}),i.jsx("button",{type:"button",className:"banner-buy-btn",onClick:()=>{const e="/checkout?pay=1";r?t(e):t("/login",{state:{from:e}})},children:"Buy Now"})]})]})]})]})}const Ls=[{name:"Easy",value:196,className:"hero-level-easy"},{name:"Medium",value:219,className:"hero-level-medium"},{name:"Hard",value:226,className:"hero-level-hard"}],Bs=[{label:"Instant Unlock",icon:""},{label:"HD Step Video",icon:""},{label:"7-Day Step Change",icon:""},{label:"One-Time Payment",icon:""}],Ps=()=>{const t=s(),{user:l}=e(),h=n.useRef(null),d=n.useRef(null),u=n.useRef(null),m=n.useRef(null),p=n.useRef(!1);return n.useEffect(()=>{var e;const t=window.matchMedia("(prefers-reduced-motion: reduce)").matches,n=window.matchMedia("(pointer: coarse)").matches,s=window.matchMedia("(max-width: 768px)").matches,i=!0===(null==(e=null==navigator?void 0:navigator.connection)?void 0:e.saveData),r=t||s||i,a=D.context(()=>{if(r)return;const e=d.current,t=e?e.querySelectorAll(".hero-brand-row, .hero-count-panel, .hero-price-stack, .hero-levels, .hero-difficulty-line"):[],s=e?e.querySelectorAll(".hero-cta-row .btn"):[],i=D.timeline({defaults:{ease:"cubic-bezier(0.4, 0, 0.2, 1)"}});t.length&&i.from(t,{opacity:0,y:18,duration:.55,stagger:.06},"+=0.1"),i.from(".hero-copy",{opacity:0,y:12,duration:.5},"+=0.12").from(s,{opacity:0,scale:.95,duration:.5,ease:"power2.out",stagger:.12},"-=0.35").from(".hero-offer-icons",{opacity:0,y:12,duration:.5},"-=0.25").from(".hero-trust",{opacity:0,y:10,duration:.45},"-=0.2"),u.current&&(n||D.to(u.current,{y:-4,duration:12,repeat:-1,yoyo:!0,ease:"sine.inOut"}))},h);if(r||n)return()=>a.revert();if(!u.current)return()=>a.revert();const o=D.quickTo(u.current,"x",{duration:.8,ease:"power2.out"}),c=D.quickTo(u.current,"rotationY",{duration:.8,ease:"power2.out"}),l=D.quickTo(u.current,"rotationX",{duration:.8,ease:"power2.out"});let m=null,p=0,f=0;const b=()=>{o(-p),c(.35*-p),l(.35*f),m=null},v=e=>{const{clientX:t,clientY:n}=e;p=12*(t/window.innerWidth-.5),f=6*(n/window.innerHeight-.5),m||(m=window.requestAnimationFrame(b))};return window.addEventListener("mousemove",v,{passive:!0}),()=>{a.revert(),window.removeEventListener("mousemove",v),m&&window.cancelAnimationFrame(m)}},[]),n.useEffect(()=>{const e=m.current;if(!e)return;const t=window.matchMedia("(prefers-reduced-motion: reduce)").matches,n=new IntersectionObserver(s=>{s.some(e=>e.isIntersecting)&&((()=>{if(p.current)return;if(p.current=!0,t)return void(e.textContent="639");const n={value:0};D.to(n,{value:639,duration:2,ease:"power2.out",onUpdate:()=>{e.textContent=Math.round(n.value).toString()}})})(),n.disconnect())},{threshold:.4});return n.observe(e),()=>n.disconnect()},[]),i.jsxs("section",{ref:h,className:"hero-section section bg-hero hero-full",children:[i.jsx("div",{className:"hero-glow","aria-hidden":"true"}),i.jsx("div",{className:"hero-grid-background","aria-hidden":"true"}),i.jsxs("div",{className:"container-max hero-grid hero-grid-advanced",children:[i.jsxs("div",{className:"hero-content hero-content-advanced",ref:d,children:[i.jsxs("div",{className:"hero-brand-row",children:[i.jsx("span",{className:"hero-brand-title",children:"AS DANCE"}),i.jsx("span",{className:"hero-brand-subtitle",children:"639 Bundle"})]}),i.jsxs("div",{className:"hero-headline-row",children:[i.jsxs("h1",{className:"hero-title",children:["639-STEP ",i.jsx("span",{className:"hero-title-highlight",children:"STAGE-READY"})," DANCE CURRICULUM"]}),i.jsxs("div",{className:"hero-count-panel",children:[i.jsx("span",{className:"hero-count-value",ref:m,children:"0"}),i.jsx("span",{className:"hero-count-label",children:"Steps"}),i.jsx("span",{className:"hero-price-tag",children:"499 ONLY"})]})]}),i.jsxs("div",{className:"hero-price-stack",children:[i.jsx("span",{className:"hero-old-price",children:"1500"}),i.jsx("span",{className:"hero-price-badge",children:"499 ONLY"})]}),i.jsx("div",{className:"hero-levels",children:Ls.map(e=>i.jsxs("span",{className:`hero-level-pill ${e.className}`,children:[i.jsx("span",{className:"hero-level-value",children:e.value}),i.jsx("span",{className:"hero-level-name",children:e.name})]},e.name))}),i.jsx("div",{className:"hero-difficulty-line",children:Ls.map((e,t)=>i.jsxs("span",{className:"hero-difficulty-item",children:[i.jsx("strong",{children:e.name.toUpperCase()}),i.jsx("span",{className:"hero-difficulty-value",children:e.value}),t<Ls.length-1&&i.jsx("span",{className:"hero-difficulty-separator",children:"|"})]},`${e.name}-line`))}),i.jsx("div",{className:"hero-cta-row",children:i.jsx("button",{type:"button",className:"btn btn-cta btn-hero btn-cta-primary hero-primary-cta",onClick:()=>{const e="/checkout?pay=1";t(l?e:`/login?redirect=${encodeURIComponent(e)}`)},children:"UNLOCK NOW  START IN MINUTES"})}),i.jsx("p",{className:"hero-copy hero-copy-advanced",children:"Unlock studio-grade choreography, lifetime drills, and instant mentorshipno gaps, all neon energy."}),i.jsx("div",{className:"hero-offer-icons hero-offer-icons-cta",children:Bs.map(e=>i.jsxs("span",{className:"hero-offer-chip",children:[i.jsx("span",{className:"hero-offer-icon","aria-hidden":"true",children:e.icon}),e.label]},e.label))}),i.jsxs("div",{className:"hero-trust hero-trust-advanced",children:[i.jsxs("span",{className:"trust-item",children:[i.jsx(r,{size:16}),"Secure Payment"]}),i.jsxs("span",{className:"trust-item",children:[i.jsx(a,{size:16}),"Lifetime Access"]}),i.jsxs("span",{className:"trust-item",children:[i.jsx(o,{size:16}),"Instant Unlock"]}),i.jsxs("span",{className:"trust-item",children:[i.jsx(c,{size:16}),"24/7 Support"]})]})]}),i.jsx("div",{className:"hero-visual hero-visual-advanced",ref:u,style:{willChange:"transform"},children:i.jsx("div",{className:"hero-poster-frame",children:i.jsx("img",{src:"/assets/As%20Dance-CN8eDG_1.webp",alt:"AS DANCE premium poster",loading:"eager",decoding:"async",width:"1024",height:"1536",style:{aspectRatio:"2/3"},fetchpriority:"high",className:"hero-preview-image"})})})]})]})},Ws=[{key:"easy",label:"Easy",subtitle:"Choreo Preview",image:"/assets/t21-C-H8dFuT.webp",durations:[{label:"30 sec",price:"300"},{label:"1 min",price:"600"},{label:"2 min",price:"1000"},{label:"3 min",price:"1350"},{label:"4 min",price:"1600"}]},{key:"medium",label:"Medium",subtitle:"Choreo Pricing",image:"/assets/t22-D8RXuHUW.webp",durations:[{label:"30 sec",price:"400"},{label:"1 min",price:"700"},{label:"2 min",price:"1200"},{label:"3 min",price:"1550"},{label:"4 min",price:"1800"}]},{key:"hard",label:"Hard",subtitle:"Choreo Pricing",image:"/assets/t23-BymRdP2t.webp",durations:[{label:"30 sec",price:"500"},{label:"1 min",price:"800"},{label:"2 min",price:"1400"},{label:"3 min",price:"1750"},{label:"4 min",price:"2000"}]}];function Us(){return i.jsx("section",{className:"section section-compact bg-services section-anim",id:"services",children:i.jsxs("div",{className:"container-max",children:[i.jsx("h2",{className:"section-head text-center",children:"Service Pricing"}),i.jsx("div",{className:"services-row",children:Ws.map((e,t)=>i.jsxs("article",{className:`service-card card-3d card-anim tone-${e.key}`,style:{transitionDelay:.08*t+"s"},children:[i.jsxs("div",{className:"service-title-block",children:[i.jsx("p",{className:"service-top-label",children:e.label}),i.jsx("p",{className:"service-top-subtitle",children:e.subtitle}),i.jsxs("div",{className:"service-advance",children:[i.jsx(l,{size:16}),i.jsx("span",{children:"Advance Level"})]})]}),i.jsx("div",{className:"service-media",children:i.jsx("img",{src:e.image,alt:`${e.label} choreo preview`,loading:"lazy",decoding:"async",width:"1280",height:"720"})}),i.jsxs("div",{className:"service-info-row",children:[i.jsx("div",{className:"service-info-column",children:e.durations.slice(0,3).map(t=>i.jsxs("div",{className:"service-info-item",children:[i.jsx("span",{className:"service-info-title",children:t.label}),i.jsx("span",{className:"service-info-price",children:t.price})]},`${e.key}-${t.label}`))}),i.jsx("div",{className:"service-info-column",children:e.durations.slice(3).map(t=>i.jsxs("div",{className:"service-info-item",children:[i.jsx("span",{className:"service-info-title",children:t.label}),i.jsx("span",{className:"service-info-price",children:t.price})]},`${e.key}-${t.label}`))})]}),i.jsxs("div",{className:"service-note compact",children:[i.jsx("p",{children:"Duration | Price align for quick glance."}),i.jsx("p",{children:"Choreo preview windows lock in real-time delivery."})]}),i.jsx("a",{href:"https://wa.me/918825602356",className:"service-whatsapp compact",children:" WhatsApp Enquiry  +918825602356"})]},e.key))}),i.jsx("div",{className:"services-trust",children:"Duration  Price  Instant Support"})]})})}const Ms=["bundle","services","preview","reviews","contacts"],Fs=["639-Step Premium Neon Dance System","Stage-Ready Performance Training","Competition-Level Choreography","Power + Flow + Expression Mastery","Beginner to Pro Structured Path","Crowd-Impact Guarantee"];function $s({activeSection:e,loaded:t,isScrolled:s,isNavHidden:r}){const{triggerAnimation:a}=(()=>{const e=n.useRef([]),t=n.useRef(!1),s=n.useCallback(()=>{if(t.current||0===e.current.length)return;t.current=!0;const n=e.current.shift();i(n).finally(()=>{t.current=!1,e.current.length>0&&setTimeout(s,50)})},[]),i=n.useCallback(async e=>{const{type:t,target:n,data:s}=e,i=document.querySelectorAll(n);if(i.length)switch(t){case"pulse":return D.to(i,{scale:1.1,duration:.3,yoyo:!0,repeat:1,ease:"power2.inOut"});case"shake":return D.to(i,{x:[-5,5,-5,5,0],duration:.5,ease:"power2.inOut"});case"glow":return D.to(i,{boxShadow:"0 0 20px rgba(255, 255, 255, 0.8)",duration:.5,yoyo:!0,repeat:1});case"slideIn":return D.fromTo(i,{x:s.from||-100,opacity:0},{x:0,opacity:1,duration:.6,ease:"power2.out"});case"fadeIn":return D.fromTo(i,{opacity:0,y:20},{opacity:1,y:0,duration:.5,ease:"power2.out"});case"bounce":return D.to(i,{y:-20,duration:.3,yoyo:!0,repeat:3,ease:"bounce.out"})}},[]),r=n.useCallback((t,n,i={})=>{const r={type:t,target:n,data:i,timestamp:Date.now()};e.current.push(r),s(),Ds.triggerAnimation(t,n,i)},[s]);return n.useEffect(()=>((async()=>{try{await Ds.connect(),Ds.subscribeToAnimations(t=>{e.current.push(t),s()})}catch(t){}})(),()=>{Ds.disconnect()}),[s]),{triggerAnimation:r}})(),o=n.useRef(null),c=n.useRef(null),[l,m]=n.useState(!1);return n.useEffect(()=>{const e=o.current;if(!e)return;if(window.matchMedia("(prefers-reduced-motion: reduce)").matches)return;e.querySelector(".brand"),Array.from(e.querySelectorAll(".nav-center .nav-link"));const t=[e.querySelector(".header-actions")].filter(Boolean);if(!t.length)return;const n=D.timeline({defaults:{duration:.6,ease:"cubic-bezier(0.4, 0, 0.2, 1)"}});return n.fromTo(t,{y:-20,autoAlpha:0},{y:0,autoAlpha:1,stagger:.06,clearProps:"transform"}),()=>n.kill()},[]),n.useEffect(()=>{var e;const t=window.matchMedia("(prefers-reduced-motion: reduce)").matches,n=window.matchMedia("(max-width: 768px)").matches,s=window.matchMedia("(pointer: coarse)").matches,i=!0===(null==(e=null==navigator?void 0:navigator.connection)?void 0:e.saveData);if(t||n||s||i)return;const r=Array.from(document.querySelectorAll(".nav-center, .nhh-nav-links"));if(!r.length)return;let a=window.scrollY||document.documentElement.scrollTop||0,o=null,c=null;const l=e=>{r.forEach(t=>t.style.setProperty("--nav-glide-x",`${e}px`))},h=()=>{o||(o=window.requestAnimationFrame(()=>{o=null;const e=window.scrollY||document.documentElement.scrollTop||0,t=e-a;a=e;const n=Math.max(-18,Math.min(18,.65*t));l(n),c&&window.clearTimeout(c),c=window.setTimeout(()=>l(0),140)}))};return l(0),window.addEventListener("scroll",h,{passive:!0}),()=>{window.removeEventListener("scroll",h),o&&window.cancelAnimationFrame(o),c&&window.clearTimeout(c),l(0)}},[]),n.useEffect(()=>{if(!c.current)return;const e=c.current;l?(D.to(e,{x:"0%",duration:.5,ease:"power3.out",display:"flex"}),D.fromTo(e.querySelectorAll(".mobile-nav-link, .mobile-menu-actions .btn"),{x:40,opacity:0},{x:0,opacity:1,stagger:.08,delay:.15,duration:.4,ease:"power2.out"})):D.to(e,{x:"100%",duration:.4,ease:"power3.in",display:"none",delay:.1})},[l]),i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"scroll-banner","aria-label":"AS DANCE premium highlights",children:i.jsx("div",{className:"track",children:Fs.concat(Fs).map((e,t)=>i.jsx("span",{className:"scroll-item",children:e},`${e}-${t}`))})}),i.jsx("nav",{ref:o,className:`navbar${t?" is-nav-animated":""}${s?" is-scrolled":""}${r?" is-hidden":""}`,children:i.jsxs("div",{className:"container-max",children:[i.jsx("div",{className:"brand fs-4 text-white fw-bold tracking-wider",style:{fontFamily:"var(--font-display)"},children:"AS DANCE"}),i.jsxs("div",{className:"nav-center",children:[i.jsxs("a",{href:"#bundle",className:"nav-link"+("bundle"===e?" is-active":""),"aria-current":"bundle"===e?"location":void 0,children:[i.jsx("span",{className:"nav-label",children:"Bundle"}),i.jsx("span",{className:"nav-emoji","aria-hidden":"true",children:""})]}),i.jsxs("a",{href:"#services",className:"nav-link"+("services"===e?" is-active":""),"aria-current":"services"===e?"location":void 0,children:[i.jsx("span",{className:"nav-label",children:"Services"}),i.jsx("span",{className:"nav-emoji","aria-hidden":"true",children:""})]}),i.jsxs("a",{href:"#preview",className:"nav-link"+("preview"===e?" is-active":""),"aria-current":"preview"===e?"location":void 0,children:[i.jsx("span",{className:"nav-label",children:"Preview"}),i.jsx("span",{className:"nav-emoji","aria-hidden":"true",children:""})]}),i.jsxs("a",{href:"#reviews",className:"nav-link"+("reviews"===e?" is-active":""),"aria-current":"reviews"===e?"location":void 0,children:[i.jsx("span",{className:"nav-label",children:"Reviews"}),i.jsx("span",{className:"nav-emoji","aria-hidden":"true",children:""})]}),i.jsxs("a",{href:"#contacts",className:"nav-link",children:[i.jsx("span",{className:"nav-label",children:"Contacts"}),i.jsx("span",{className:"nav-emoji","aria-hidden":"true",children:""})]})]}),i.jsxs("div",{className:"header-actions",children:[i.jsxs(h,{to:"/login",className:"btn btn--ghost nav-cta d-none d-md-inline-flex",onClick:()=>a("pulse",".nav-cta"),children:[i.jsx("span",{className:"cta-icon","aria-hidden":"true",children:""}),i.jsx("span",{className:"cta-text",children:"Login"})]}),i.jsxs(h,{to:"/register",className:"btn btn--primary nav-cta d-none d-md-inline-flex",onClick:()=>a("glow",".nav-cta"),children:[i.jsx("span",{className:"cta-icon","aria-hidden":"true",children:""}),i.jsx("span",{className:"cta-text",children:"Create Account"})]}),i.jsx("button",{className:"nav-toggle-btn d-md-none",onClick:()=>m(!0),"aria-label":"Open Menu",children:i.jsx(d,{size:24,color:"#fff"})})]})]})}),i.jsxs("div",{ref:c,className:"mobile-menu-overlay "+(l?"is-open":""),"aria-hidden":!l,children:[i.jsxs("div",{className:"mobile-menu-header",children:[i.jsx("div",{className:"brand fs-4 text-white fw-bold tracking-wider",style:{fontFamily:"var(--font-display)"},children:"AS DANCE"}),i.jsx("button",{className:"nav-close-btn",onClick:()=>m(!1),"aria-label":"Close Menu",children:i.jsx(u,{size:28,color:"#fff"})})]}),i.jsxs("div",{className:"mobile-menu-links",children:[Ms.map(t=>i.jsx("a",{href:`#${t}`,className:"mobile-nav-link"+(e===t?" is-active":""),onClick:()=>m(!1),children:t.charAt(0).toUpperCase()+t.slice(1)},t)),i.jsxs("div",{className:"mobile-menu-actions",children:[i.jsx(h,{to:"/login",className:"btn btn-outline-light w-100 mb-3",onClick:()=>m(!1),children:"Login"}),i.jsx(h,{to:"/register",className:"btn btn-hero btn-cta-primary w-100",onClick:()=>m(!1),children:"Create Account"})]})]})]})]})}function Vs(){return i.jsxs("footer",{className:"site-footer section-anim bg-contact",id:"contacts",children:[i.jsxs("div",{className:"container-max footer-grid",children:[i.jsxs("div",{className:"footer-col footer-brand",children:[i.jsx("div",{className:"footer-title",children:"AS DANCE  639-Step Premium Curriculum"}),i.jsx("p",{className:"footer-copy",children:"Fast skill progression for students, fitness dancers, wedding choreo learners, and stage performers."}),i.jsxs("div",{className:"footer-icons",children:[i.jsx("a",{href:"https://wa.me/918825602356",target:"_blank",rel:"noopener noreferrer",className:"footer-icon","aria-label":"WhatsApp",children:i.jsx(L,{size:18,color:"#fff"})}),i.jsx("a",{href:"mailto:bussinessaswin@gmail.com",className:"footer-icon","aria-label":"Email",children:i.jsx(m,{size:18})})]})]}),i.jsxs("div",{className:"footer-col",children:[i.jsx("div",{className:"footer-title",children:"Contact"}),i.jsxs("div",{className:"footer-list footer-contact",children:[i.jsxs("div",{className:"footer-contact-item",children:[i.jsx(m,{size:16}),i.jsx("span",{children:"Email: bussinessaswin@gmail.com"})]}),i.jsxs("div",{className:"footer-contact-item",children:[i.jsx(p,{size:16}),i.jsx("span",{children:"Phone: +91 88256 02356"})]}),i.jsx("div",{className:"footer-contact-item",children:'Song Used: "Dance Dhoom Mix 2025"'}),i.jsx("div",{className:"footer-contact-item",children:"Beat Sync: Always Matching Step For Beaat"})]})]}),i.jsxs("div",{className:"footer-col",children:[i.jsx("div",{className:"footer-title",children:"Support"}),i.jsxs("div",{className:"footer-list",children:[i.jsx("span",{children:"Secure Payment"}),i.jsx("span",{children:"Lifetime Access"}),i.jsx("span",{children:"Instant Unlock"}),i.jsx("span",{children:"24/7 Support"})]})]})]}),i.jsx("div",{className:"footer-divider","aria-hidden":"true"}),i.jsxs("div",{className:"footer-trust",children:[i.jsxs("div",{className:"footer-trust-item",children:[i.jsx(r,{size:16}),"Secure Payment"]}),i.jsxs("div",{className:"footer-trust-item",children:[i.jsx(a,{size:16}),"Lifetime Access"]}),i.jsxs("div",{className:"footer-trust-item",children:[i.jsx(o,{size:16}),"Instant Unlock"]}),i.jsxs("div",{className:"footer-trust-item",children:[i.jsx(c,{size:16}),"24/7 Support"]})]}),i.jsx("div",{className:"footer-signature",children:"Aswin   AS DANCE Creator"})]})}const zs=f.lazy(()=>t(()=>import("./DemoSection-BZ-qx7O8.js"),__vite__mapDeps([0,1,2,3,4,5]))),Gs=f.lazy(()=>t(()=>import("./ReviewLoop-CuEqiMBi.js"),__vite__mapDeps([6,1,2,3])));D.registerPlugin(H);const qs=["bundle","services","preview","reviews","contacts"];function Js(){const[e,t]=n.useState(!1),[s,r]=n.useState(!1),[a,o]=n.useState(!1),[c,l]=n.useState(qs[0]),h=n.useRef(0),d=n.useRef(!1),u=({title:e,id:t,minHeight:n})=>i.jsx("section",{id:t,className:"section section-compact section-anim","aria-busy":"true",style:n?{minHeight:n}:void 0,children:i.jsxs("div",{className:"container-max text-center text-white-50 small",style:{opacity:.8},children:["Loading ",e,"..."]})}),p=({rootMargin:e="240px",fallback:t,children:s})=>{const[r,a]=n.useState(!1),o=n.useRef(null);return n.useEffect(()=>{if(r)return;if(!("IntersectionObserver"in window))return void a(!0);const t=new IntersectionObserver(e=>{e.some(e=>e.isIntersecting)&&(a(!0),t.disconnect())},{rootMargin:e}),n=o.current;return n&&t.observe(n),()=>t.disconnect()},[r,e]),i.jsx("div",{ref:o,children:r?s:t})};return n.useEffect(()=>{var e;const n=window.matchMedia("(prefers-reduced-motion: reduce)").matches,s=!0===(null==(e=null==navigator?void 0:navigator.connection)?void 0:e.saveData);if(n||s)return void t(!0);const i=setTimeout(()=>t(!0),200);return()=>clearTimeout(i)},[]),n.useEffect(()=>{const e=window.matchMedia("(prefers-reduced-motion: reduce)").matches;let t=null;const n=e=>{d.current!==e&&(d.current=e,o(e))},s=()=>{const s=window.scrollY||document.documentElement.scrollTop||0;if(r(s>12),e)return n(!1),h.current=s,void(t=null);const i=s-h.current;s<=8?n(!1):i>6&&s>90?n(!0):i<-6&&n(!1),h.current=s,t=null},i=()=>{t||(t=window.requestAnimationFrame(s))};return h.current=window.scrollY||0,s(),window.addEventListener("scroll",i,{passive:!0}),()=>{window.removeEventListener("scroll",i),t&&window.cancelAnimationFrame(t)}},[]),n.useEffect(()=>{const e=qs.map(e=>document.getElementById(e)).filter(Boolean);if(!e.length)return;const t=new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting&&l(e.target.id)})},{rootMargin:"-45% 0px -45% 0px",threshold:0});return e.forEach(e=>t.observe(e)),()=>t.disconnect()},[]),n.useEffect(()=>{const e=document.querySelector(".scroll-progress");let t=null;const n=()=>{const n=document.documentElement.scrollTop,s=document.documentElement.scrollHeight-document.documentElement.clientHeight,i=s>0?n/s:0;e&&e.style.setProperty("--scroll-progress",i.toFixed(3)),document.documentElement.style.setProperty("--ui-scroll-depth",i.toFixed(3)),t=null},s=()=>{t||(t=window.requestAnimationFrame(n))};return window.addEventListener("scroll",s,{passive:!0}),n(),e&&(e.style.willChange="transform"),()=>{window.removeEventListener("scroll",s),t&&window.cancelAnimationFrame(t),e&&e.style.setProperty("--scroll-progress","0"),document.documentElement.style.setProperty("--ui-scroll-depth","0")}},[]),n.useEffect(()=>{var e;const t=window.matchMedia("(prefers-reduced-motion: reduce)").matches,n=window.matchMedia("(max-width: 768px)").matches,s=window.matchMedia("(pointer: coarse)").matches,i=!0===(null==(e=null==navigator?void 0:navigator.connection)?void 0:e.saveData);if(t||n||s||i)return;const r=D.context(()=>{const e={opacity:0,y:40,scale:.96},t={opacity:1,y:0,scale:1,duration:.7,stagger:.09,ease:"power2.out",clearProps:"transform"},n={opacity:0,y:30},s={opacity:1,y:0,duration:.6,stagger:.12,ease:"cubic-bezier(0.4, 0, 0.2, 1)",clearProps:"transform"},i={opacity:0,y:40,scale:.98},r={opacity:1,y:0,scale:1,duration:.7,ease:"power2.out"};D.utils.toArray(".section-anim").forEach(a=>{const o=a.querySelectorAll(".review-card"),c=a.querySelectorAll(".card-anim");o.length?D.fromTo(o,n,{...s,scrollTrigger:{trigger:a,start:"top 80%",toggleActions:"play none none none"}}):c.length?D.fromTo(c,e,{...t,scrollTrigger:{trigger:a,start:"top 80%"}}):D.fromTo(a,i,{...r,scrollTrigger:{trigger:a,start:"top 80%"}})})});return()=>r.revert()},[]),i.jsxs(i.Fragment,{children:[i.jsx("div",{id:"preloader",style:{opacity:e?0:1,visibility:e?"hidden":"visible"},children:i.jsxs("div",{className:"loader-content",children:[i.jsx("div",{className:"loader-text",children:"AS DANCE"}),i.jsx("div",{className:"text-white small tracking-widest mt-2",children:"639 STEP BUNDLE"})]})}),i.jsx("div",{className:"scroll-progress"}),i.jsx($s,{activeSection:c,loaded:e,isScrolled:s,isNavHidden:a}),i.jsxs("div",{className:"page-content",children:[i.jsx(Hs,{}),i.jsx(Ps,{}),i.jsx(Us,{}),i.jsx(p,{fallback:i.jsx(u,{title:"preview",id:"preview",minHeight:"clamp(260px, 45vw, 420px)"}),children:i.jsx(n.Suspense,{fallback:i.jsx(u,{title:"preview",id:"preview",minHeight:"clamp(260px, 45vw, 420px)"}),children:i.jsx(zs,{})})}),i.jsx(p,{fallback:i.jsx(u,{title:"reviews",id:"reviews",minHeight:"clamp(300px, 60vw, 560px)"}),children:i.jsx(n.Suspense,{fallback:i.jsx(u,{title:"reviews",id:"reviews",minHeight:"clamp(300px, 60vw, 560px)"}),children:i.jsx(Gs,{})})})]}),i.jsxs("div",{className:"fab-container",children:[i.jsx("a",{href:"mailto:bussinessaswin@gmail.com",className:"mail-float",title:"Email Support","aria-label":"Email Support","data-tooltip":"Email support",children:i.jsx(m,{size:20})}),i.jsx("a",{href:"https://wa.me/918825602356",target:"_blank",rel:"noopener noreferrer",className:"wa-float",title:"Support on WhatsApp","aria-label":"Support on WhatsApp","data-tooltip":"Chat on WhatsApp",children:i.jsx(L,{size:24,color:"#fff"})})]}),i.jsx(Vs,{})]})}export{Js as default};
